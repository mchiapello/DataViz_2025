hello everyone and welcome back to this hello everyone and welcome back to this ggplot2 webinar can I get a quick ggplot2 webinar can I get a quick feedback on whether you can hear me and feedback on whether you can hear me and [Music] [Music] it seems to be working fantastic okay it seems to be working fantastic okay welcome everyone welcome back I am happy welcome everyone welcome back I am happy that a lot of people decided to join me that a lot of people decided to join me once again for this ggplot2 webinar as I once again for this ggplot2 webinar as I told you last time this is the corona told you last time this is the corona edition of a webinar that I was giving edition of a webinar that I was giving at the celebration celebration at the celebration celebration conference that was just like a month conference that was just like a month ago or something like that so last time ago or something like that so last time we we had quite a lot of fun looking we we had quite a lot of fun looking into this theory about around the into this theory about around the grammar of graphics and also how it grammar of graphics and also how it applied to to actual the API of ggplot2 applied to to actual the API of ggplot2 and and will continue had fast into New and and will continue had fast into New Territories a day if there are any new Territories a day if there are any new viewers just quickly about me my name is viewers just quickly about me my name is Thomas Liam Peterson I'm a software Thomas Liam Peterson I'm a software engineer our studio where I am engineer our studio where I am responsible partly for ggplot2 but responsible partly for ggplot2 but generally just everything graphics when generally just everything graphics when it comes to through our packages from it comes to through our packages from our studio I was once a bioinformatician our studio I was once a bioinformatician but I've been moving away from that but I've been moving away from that obviously I block on data imaginisce I'm obviously I block on data imaginisce I'm Twitter on Thomas P 58 85 and I'm also Twitter on Thomas P 58 85 and I'm also on github under the same username though on github under the same username though I don't think actually I talked about I don't think actually I talked about the picture on the on the right that is the picture on the on the right that is made with ggplot2 by me so never feel made with ggplot2 by me so never feel ggplot2 constraining you like you can ggplot2 constraining you like you can you can draw almost whatever you want if you can draw almost whatever you want if you if you correctly figure out how to you if you correctly figure out how to decompose the the problem so so about decompose the the problem so so about today or also about what happened last today or also about what happened last time we talked about the grammar of time we talked about the grammar of graphics and we talked about how graphics and we talked about how was reflected in the ggplot2 api the was reflected in the ggplot2 api the reason why we had such a long webinar reason why we had such a long webinar last time I think it ended up being two last time I think it ended up being two and a half hours is that I think the and a half hours is that I think the theory is super important to actually theory is super important to actually understand why we do things the way we understand why we do things the way we do in G to plot - and the reason why is do in G to plot - and the reason why is important to understand why we do things important to understand why we do things the way we do in G to plot - is that the way we do in G to plot - is that there's a theoretical backbone to it and there's a theoretical backbone to it and and once you understand the logic of and once you understand the logic of that theoretical backbone you don't that theoretical backbone you don't really need to understand everything and really need to understand everything and everything seen in ggplot2 because you everything seen in ggplot2 because you can kind of understand the logic to it can kind of understand the logic to it and you know where to look for more and you know where to look for more information so having these two together information so having these two together like the the underlying theory of like the the underlying theory of grammar of graphics along with how that grammar of graphics along with how that is reflected in the API is super is reflected in the API is super important I think which is why I I important I think which is why I I decided to check them together into one decided to check them together into one quite long hole so today we will be quite long hole so today we will be moving beyond ggplot2 did put - is a moving beyond ggplot2 did put - is a huge beast we didn't talk about every huge beast we didn't talk about every possible function last time there are a possible function last time there are a lot to be done but but I hope that you lot to be done but but I hope that you can see how you can look into that can see how you can look into that yourself and pretty easily understand yourself and pretty easily understand all these different aspects of it and all these different aspects of it and today we'll be moving into like the today we'll be moving into like the extended universe of ggplot2 which is extended universe of ggplot2 which is the extension mechanisms that ggplot2 the extension mechanisms that ggplot2 exposes allows other packages to build exposes allows other packages to build upon the ggplot2 API and I'll be I'll be upon the ggplot2 API and I'll be I'll be talking mainly about that aspect and the talking mainly about that aspect and the last part will be kind of a metre last part will be kind of a metre discussion part where I kind of show a discussion part where I kind of show a bit at how you can think with the bit at how you can think with the grammar of graphics in mind and how you grammar of graphics in mind and how you can use that not to figure out how to can use that not to figure out how to how to make new graphics but also how we how to make new graphics but also how we can use it to actually inspect already can use it to actually inspect already made graphics and maybe even be better made graphics and maybe even be better at understanding what's been show to at understanding what's been show to show to you same our device as last time show to you same our device as last time there are things that we will not talk there are things that we will not talk about in this this way about in this this way you know will not talk about how to get you know will not talk about how to get data into will not talk about data data into will not talk about data manipulation will not talk about our manipulation will not talk about our programming there are a lot of things programming there are a lot of things that are important when when it comes to that are important when when it comes to to doing data visualization that are to doing data visualization that are related related to data import data related related to data import data manipulation and general programming but manipulation and general programming but that's that is for another webinar that's that is for another webinar possibly by someone else but thankfully possibly by someone else but thankfully there is a lot of free material online there is a lot of free material online these are some of the different packages these are some of the different packages that are central to to a lot of people that are central to to a lot of people working with this and they all have working with this and they all have excellent web pages that you can browse excellent web pages that you can browse into and when it comes to our into and when it comes to our programming hadley has been been making programming hadley has been been making some fantastic books that are all some fantastic books that are all available for free that you can dive available for free that you can dive into so so go nuts don't go nuts right into so so go nuts don't go nuts right now because I want you to stay and now because I want you to stay and listen to this but afterwards if you listen to this but afterwards if you feel like you're lagging in some aspects feel like you're lagging in some aspects in these areas then definitely go check in these areas then definitely go check out these different resources as last out these different resources as last time there is a github repository for time there is a github repository for the work this workshop I think I've been the work this workshop I think I've been 4-sided and actually put this link in 4-sided and actually put this link in the description of this video this time the description of this video this time I'm still learning as we go I'm still learning as we go when it comes to streaming but otherwise when it comes to streaming but otherwise you can visit list this link where you you can visit list this link where you can download and an hour markdown file can download and an hour markdown file that you can open in in our studio or that you can open in in our studio or whatever you you prefer to to run your whatever you you prefer to to run your our code and we can just have a quick our code and we can just have a quick look at it you can see over here there look at it you can see over here there will be for all the different will be for all the different plus I'm going to show you I'll let you plus I'm going to show you I'll let you also show you the code generated for the also show you the code generated for the plus and that code is also reflected in plus and that code is also reflected in this exercises pad so you can go along this exercises pad so you can go along executing the code be be sure that I'm executing the code be be sure that I'm not lying to you that it actually works not lying to you that it actually works and actually produces the plot that I'm and actually produces the plot that I'm showing to you and then after each short showing to you and then after each short section there will be some exercises and section there will be some exercises and usually in a in a workshop you'll have usually in a in a workshop you'll have some time to sit down and dive into the some time to sit down and dive into the exercises and tries to to solve them exercises and tries to to solve them that doesn't really work here I think so that doesn't really work here I think so so I will try to live code them and and so I will try to live code them and and if you want to solve them yourself you if you want to solve them yourself you can you can mute me look away and you can you can mute me look away and you can try to solve them at another time at can try to solve them at another time at your own convenience you can also just your own convenience you can also just follow along and then let some days pass follow along and then let some days pass and then try to solve them yourself it's and then try to solve them yourself it's been so long since I made these been so long since I made these exercises that I have absolutely exercises that I have absolutely forgotten everything about them so you forgotten everything about them so you will see actual live live coding where will see actual live live coding where tries to figure out what I actually tries to figure out what I actually wanted to do at the time at the time wanted to do at the time at the time when I made these exercises so there when I made these exercises so there will be no cheating or anything yes so will be no cheating or anything yes so let's get back to the slides so the meet let's get back to the slides so the meet of today will will focus on what I call of today will will focus on what I call beyond ggplot2 how you can move beyond beyond ggplot2 how you can move beyond what did you plot to allows you to do what did you plot to allows you to do using a lot of the different extension using a lot of the different extension packages already available I didn't talk packages already available I didn't talk about this in the intro but I don't about this in the intro but I don't expect this this webinar taught to to be expect this this webinar taught to to be as as long as the last time it's as as long as the last time it's probably going to be between one and one probably going to be between one and one and a half hour or something like that and a half hour or something like that but we'll see I honestly don't know but but we'll see I honestly don't know but there won't be as much material as last there won't be as much material as last time I have the same amount of water as time I have the same amount of water as last time and I expect it to hold out so last time and I expect it to hold out so big question with when we're talking big question with when we're talking about extension this is really why about extension this is really why extensions like why don't you just add extensions like why don't you just add more more features into into ggplot2 more more features into into ggplot2 like that would be nice and we wouldn't like that would be nice and we wouldn't have to go looking for different have to go looking for different extensions to solve our problems the extensions to solve our problems the reason for that is mainly that jeepers reason for that is mainly that jeepers too is huge as it is and and just too is huge as it is and and just maintaining the the current state of maintaining the the current state of affair is a team effort it is mainly affair is a team effort it is mainly being handled by by me and Klaus Wilker being handled by by me and Klaus Wilker and Yuri Dunnington and you hockey and and Yuri Dunnington and you hockey and I'm sorry I can't pronounce his take I'm I'm sorry I can't pronounce his take I'm sorry I and and a few others kara was sorry I and and a few others kara was also part of the core team and headley also part of the core team and headley is sometimes doing a bit of work but not is sometimes doing a bit of work but not a lot and as it is it's quite huge for a lot and as it is it's quite huge for writer like my last count we had 47 writer like my last count we had 47 teams we have 25 stats and we have 62 teams we have 25 stats and we have 62 scales so there's a lot of functionality scales so there's a lot of functionality buildings to that already and buildings to that already and furthermore we were actually constantly furthermore we were actually constantly evolving the the internals of ggplot2 evolving the the internals of ggplot2 and and we'd rather focus on that making and and we'd rather focus on that making sure that the internals are sound and sure that the internals are sound and safe and let let other people focus on safe and let let other people focus on hadley actually shared with me like the hadley actually shared with me like the I think the announcement for GG plot 2 I think the announcement for GG plot 2 version 1 lately where he talked about version 1 lately where he talked about that the this version number that the this version number Diablo 2 was famously a 0.9 version for Diablo 2 was famously a 0.9 version for the first I don't know 10 years of the first I don't know 10 years of existence or something like that and existence or something like that and then suddenly it actually hit the the then suddenly it actually hit the the 1.0 version mark and when you release 1.0 version mark and when you release that he told and told me or he told the that he told and told me or he told the the users that well this reflects that the users that well this reflects that the GD plot 2 is now actually in a the GD plot 2 is now actually in a stable format and very little stable format and very little development will will be put into it development will will be put into it from that one and he has he has been from that one and he has he has been wrong before and he was definitely wrong wrong before and he was definitely wrong this time this time because there is a lot of development because there is a lot of development going into ggplot2 core as it is looking going into ggplot2 core as it is looking into how we can improve the existing into how we can improve the existing functionality and especially how we can functionality and especially how we can allow extension developers to do more so allow extension developers to do more so so ggplot2 is definitely not dead in any so ggplot2 is definitely not dead in any sense of the word and it just keeps sense of the word and it just keeps growing so there's a lot of extensions growing so there's a lot of extensions out there and many extensions are quite out there and many extensions are quite specific to a certain niche and this is specific to a certain niche and this is also one of the reason why we feel it's also one of the reason why we feel it's it's better than that it's better than that first within this niche well will focus first within this niche well will focus on developing things that are specific on developing things that are specific to them instead of letting us who may to them instead of letting us who may not know so much about this these not know so much about this these different types of visualizations take different types of visualizations take decisions that may not be optimal for decisions that may not be optimal for for these types of visualizations so so for these types of visualizations so so it's it's way better to have have a it's it's way better to have have a distributed development of new features distributed development of new features and and make these new features be and and make these new features be developed by people who really really developed by people who really really care about this this area further it's care about this this area further it's also quite a lot easier to promote new also quite a lot easier to promote new focus packages instead of just having a focus packages instead of just having a continuous stream of updates about continuous stream of updates about what's new and ggplot2 like having blog what's new and ggplot2 like having blog post for this new fancy extension post for this new fancy extension packages is way better to to actually packages is way better to to actually describe new features a lot of the the describe new features a lot of the the fitti or a lot of the extension packages fitti or a lot of the extension packages has been has been collected into a into has been has been collected into a into a gallery and this gallery is not a gallery and this gallery is not maintained by by the other core team in maintained by by the other core team in any in any regard but there were some any in any regard but there were some problems with the with the domain of the problems with the with the domain of the last address for the site so it has last address for the site so it has changed location a bit so now we are we changed location a bit so now we are we have we have allowed it to be host under have we have allowed it to be host under the ggplot2 that tidy versatile org the ggplot2 that tidy versatile org domain so you can now find it an X that domain so you can now find it an X that ggplot2 that tidy verse talk and and ggplot2 that tidy verse talk and and you'll find a lot of the different you'll find a lot of the different different extension packages listed different extension packages listed there this is a on and an opt-in basis there this is a on and an opt-in basis so if you're developing extensions you so if you're developing extensions you can you can create a pull request for can you can create a pull request for this this website and have your this this website and have your extension listed there but it it will extension listed there but it it will not just pick up any new extension pages not just pick up any new extension pages there so it's not complete in any in any there so it's not complete in any in any sense but a lot of the the bacons and sense but a lot of the the bacons and very very thorough extension packages very very thorough extension packages are listed there and it's a great way to are listed there and it's a great way to just look in to see well what's actually just look in to see well what's actually possible at this moment so the first possible at this moment so the first thing I'm going to talk about is plot thing I'm going to talk about is plot composition and if you remember the last composition and if you remember the last time we talked a bit about fair time we talked a bit about fair and and how how people have tried to use and and how how people have tried to use fascist for composing multiple very very fascist for composing multiple very very different plus together and also alluded different plus together and also alluded to the fact that this was not the the to the fact that this was not the the best way to do it because newer and best way to do it because newer and better ways of doing this as has better ways of doing this as has appeared but why even do plot appeared but why even do plot composition composition well mainly because when you want to well mainly because when you want to tell stories with data visualization tell stories with data visualization it's very very seldom that you can just it's very very seldom that you can just create a single plot that will tell the create a single plot that will tell the full story sometimes it's okay to have full story sometimes it's okay to have like multiple separate plus its wine like multiple separate plus its wine with text and so on but sometimes you with text and so on but sometimes you also want to have like a complete story also want to have like a complete story told by multiple smaller plots all tied told by multiple smaller plots all tied together in a single visualization and together in a single visualization and and this is really like this is blood and this is really like this is blood composition and you want to be able to composition and you want to be able to do that with whatever type of plotting do that with whatever type of plotting frame wedding would you want to do this frame wedding would you want to do this is not something this is not a new is not something this is not a new demand as I talked about people have demand as I talked about people have tried to do it with with the facet had a tried to do it with with the facet had a hacking but there has also been a lot of hacking but there has also been a lot of different approaches throughout the different approaches throughout the years grid extra has set a greater range years grid extra has set a greater range function that some people are still function that some people are still using Gigi Papa has a Gigi arranged cow using Gigi Papa has a Gigi arranged cow plot as a plot Chris function all these plot as a plot Chris function all these are just simply trying to combine are just simply trying to combine multiple plus into an appealing multiple plus into an appealing composition in some way because I'm me composition in some way because I'm me and I am ruling what I'm talking about and I am ruling what I'm talking about I will overrule all of these and talk I will overrule all of these and talk about patchwork which is one of my own about patchwork which is one of my own packages and I truly believe it's the packages and I truly believe it's the it's the best way to do plot it's the best way to do plot conversation but I will not force you to conversation but I will not force you to use it in any regard like if you if use it in any regard like if you if you're already using Gigi para or Cal you're already using Gigi para or Cal plot or whatever and and feel like that plot or whatever and and feel like that is is the best way for you to do it is is the best way for you to do it certainly continue to use that I will certainly continue to use that I will say though that that if you haven't used say though that that if you haven't used any of these packages to do plot any of these packages to do plot composition before and and wants to composition before and and wants to start doing that I will definitely start doing that I will definitely recommend patchwork it's the most recent recommend patchwork it's the most recent one and also quite sure it's the most one and also quite sure it's the most so how does it look well when we're so how does it look well when we're doing blood composition we need some doing blood composition we need some multiple different plots to kind of show multiple different plots to kind of show off so so here's one kind of boring plus off so so here's one kind of boring plus showing the amount of sleep by by showing the amount of sleep by by different different types of I guess different different types of I guess it's mammals I can't really remember the it's mammals I can't really remember the sleep patterns have different mammals sleep patterns have different mammals depending on whether the meat eaters or depending on whether the meat eaters or sexy horse or whatever I will just sexy horse or whatever I will just create a couple of different plus two create a couple of different plus two this so not really anything interesting this so not really anything interesting there and you will probably see as if there and you will probably see as if you remember from last time these plus you remember from last time these plus that I'm showing I'm not meant to be that I'm showing I'm not meant to be stunning in like the inside that you're stunning in like the inside that you're getting out of it there Mon mainly you getting out of it there Mon mainly you used to kind of show what I'm talking used to kind of show what I'm talking about so keep that in mind so if we have about so keep that in mind so if we have these three different plots that I just these three different plots that I just showed you and we want to combine them showed you and we want to combine them into a single plot using patchwork how into a single plot using patchwork how would we go about doing that well it's would we go about doing that well it's actually quite simple because patch actually quite simple because patch works kind of claims to fame is that it works kind of claims to fame is that it it extends the use of the plus operator it extends the use of the plus operator and as you will see in a minute some and as you will see in a minute some some additional operators to actually some additional operators to actually just allow you to add plots together now just allow you to add plots together now this is a horrible plot right I can this is a horrible plot right I can absolutely see that this is not the best absolutely see that this is not the best selling point for patchwork because it selling point for patchwork because it looks horrible the reason why it looks looks horrible the reason why it looks horrible is that there are simply not horrible is that there are simply not enough space for for our panels in this enough space for for our panels in this area that we're looking at because the area that we're looking at because the three legends are taking out a fixed three legends are taking out a fixed amount of space and the different exit amount of space and the different exit sticks is taking up a fixed amount of sticks is taking up a fixed amount of space and there's only so much space and space and there's only so much space and now plus so it doesn't look good but now plus so it doesn't look good but it's not the full of the packages it was it's not the full of the packages it was trying to fill out the area that it's trying to fill out the area that it's been giving we can improve on that a bit been giving we can improve on that a bit by for instance tagging two of them on by for instance tagging two of them on top of the other one and as you can see top of the other one and as you can see there are a different a couple of there are a different a couple of different operators that allows us to different operators that allows us to actually do quite elaborate layouts of actually do quite elaborate layouts of plus plus with a very little amount of coat so so with a very little amount of coat so so what we see here is that besides the what we see here is that besides the plus operator which actually is just as plus operator which actually is just as plus together and place them in a grid plus together and place them in a grid and that grid can have a number of and that grid can have a number of columns and a number of rows we can also columns and a number of rows we can also use the the type of razor to to stack or use the the type of razor to to stack or to position plus beside each other so so to position plus beside each other so so they will always be placed beside each they will always be placed beside each other and we can use the division other and we can use the division operator to stack something on top of operator to stack something on top of each other and as you can see you're each other and as you can see you're able to actually nest plus down there able to actually nest plus down there using these things so the the 2 plus on using these things so the the 2 plus on top is a nested pass work which is then top is a nested pass work which is then stacked on top of the the other plot stacked on top of the the other plot what patchwork is it's really good at what patchwork is it's really good at doing is that it is absolutely enforcing doing is that it is absolutely enforcing that the flooding areas of the different that the flooding areas of the different plus stay aligned no matter how how plus stay aligned no matter how how complex your your nesting structure and complex your your nesting structure and your your composition ends up being it your your composition ends up being it will always align the plus when I say a will always align the plus when I say a line is simply aligning the plot area so line is simply aligning the plot area so know as you can see the top left plot know as you can see the top left plot has it has a y-axis with some long long has it has a y-axis with some long long labels and we can see that that doesn't labels and we can see that that doesn't inflict on how it it's aligned with the inflict on how it it's aligned with the bottom part of the plot which has only bottom part of the plot which has only 20 15 10 and 5 assists as its axis text 20 15 10 and 5 assists as its axis text so everything will always stay aligned so everything will always stay aligned no matter what you throw at let's say no matter what you throw at let's say there's a question here I'll try to see there's a question here I'll try to see if I can pick up questions as we go if I can pick up questions as we go there's one asking whether we can use there's one asking whether we can use patchwork for plus generated without did patchwork for plus generated without did you put two and yes you can I don't you put two and yes you can I don't think I have any any examples of that think I have any any examples of that right now but but you can use it with right now but but you can use it with base package plots as well and you can base package plots as well and you can also simply add different grid objects also simply add different grid objects together so you can make together so you can make a table using great extra with the table a table using great extra with the table crap and stick it together with with crap and stick it together with with your with your figure if you want to so your with your figure if you want to so so you can actually kind of catch so you can actually kind of catch everything that you that you want to everything that you that you want to plot and use it with password all that plot and use it with password all that being said ggplot2 is quite different being said ggplot2 is quite different from from how base plot is working so from from how base plot is working so the alignment is not really possible to the alignment is not really possible to to do when you're for instance if you're to do when you're for instance if you're if you're combining a GU plot to plot if you're combining a GU plot to plot with base plot it's not possible to have with base plot it's not possible to have it automatically align everything it automatically align everything patchwork is taking making a lot of patchwork is taking making a lot of assumptions assumptions are okay because assumptions assumptions are okay because I'm developing ggplot2 so I know the I'm developing ggplot2 so I know the assumptions that are okay about how the assumptions that are okay about how the structure of a G plot to plot looks and structure of a G plot to plot looks and and it uses that to ensure that they are and it uses that to ensure that they are so what can we do otherwise well if we so what can we do otherwise well if we have this plot composition that we saw have this plot composition that we saw before there is a lot of space wasted in before there is a lot of space wasted in the main area because we want we have the main area because we want we have this this alleged in the middle of all this this alleged in the middle of all all the things and and what patchwork is all the things and and what patchwork is actually able to do is that is able to actually able to do is that is able to say collect all the guides and place say collect all the guides and place them to the side now once more you can them to the side now once more you can see that well we don't have enough space see that well we don't have enough space to actually show the the legends right to actually show the the legends right now they get capped in the now they get capped in the that's up again this is not really patch that's up again this is not really patch boys fall is just me being sloppy when I boys fall is just me being sloppy when I formatted the pictures but as you can formatted the pictures but as you can see it allows a lot of quite nice see it allows a lot of quite nice dynamic things to happen but this dynamic things to happen but this particular set up we can actually see particular set up we can actually see that we don't need any legends at all that we don't need any legends at all because the two top plots are actually a because the two top plots are actually a kind of legend because we see the colors kind of legend because we see the colors I match to the sort of y-axis so we I match to the sort of y-axis so we don't really need any don't really need any in code at all and we can we can turn in code at all and we can we can turn that off and what I'm showing you here that off and what I'm showing you here is a new operator which is the am is a new operator which is the am percent and the am percent allows you to percent and the am percent allows you to add ggplot2 elements like theme or geom add ggplot2 elements like theme or geom whatever to all of the all of the sub whatever to all of the all of the sub plants plots in your patchwork so we can plants plots in your patchwork so we can quite easily and with absolutely minimal quite easily and with absolutely minimal code turn off the the legend to all of code turn off the the legend to all of our sub plus in one single line so our sub plus in one single line so that's quite nice as well and suddenly that's quite nice as well and suddenly we can see that we can actually show all we can see that we can actually show all these three plots quite nicely in a in a these three plots quite nicely in a in a single single area now usually when you single single area now usually when you when you do this maybe not usually but a when you do this maybe not usually but a lot of time when you're doing this it's lot of time when you're doing this it's because its intended to go into some because its intended to go into some sort of articles so if you're if you're sort of articles so if you're if you're in academia you will usually have in academia you will usually have figures in your articles and a lot of figures in your articles and a lot of these figures are actually multiple these figures are actually multiple smaller plus and you will want to smaller plus and you will want to identify these smaller plus so can you identify these smaller plus so can you do that with password what you can so we do that with password what you can so we can do all sorts of plot annotations to can do all sorts of plot annotations to the final the final plot final patchwork the final the final plot final patchwork we can add a tour a title to all the we can add a tour a title to all the things together and we can also things together and we can also automatically check the the plus in automatically check the the plus in there and so right now we say tech there and so right now we say tech levels equals uppercase a which means levels equals uppercase a which means that it will use uppercase letters to to that it will use uppercase letters to to tack them we can also we're going to tack them we can also we're going to stuck in a lowercase a and it will use stuck in a lowercase a and it will use lowercase we're stuck in a a 1 and we'll lowercase we're stuck in a a 1 and we'll use numerals or an eye to use Roman use numerals or an eye to use Roman numerals uppercase eyes use other case numerals uppercase eyes use other case known Roman numerals and so on so so known Roman numerals and so on so so it's quite flexible and how you can it's quite flexible and how you can actually take this actually take this [Music] [Music] further it actually allows you to dive further it actually allows you to dive into the nested structure of your into the nested structure of your patchwork so so for instance in this patchwork so so for instance in this example we have the two upper plots are example we have the two upper plots are a nested patchwork inside a bigger a nested patchwork inside a bigger patchwork so we could we could add patchwork so we could we could add multiple tech levels and say well the multiple tech levels and say well the top left plot would be a one and top top left plot would be a one and top right plus will be a two and the button right plus will be a two and the button plot will be B instead and actually plot will be B instead and actually provides facilities to do all that provides facilities to do all that automatically as well so it does a lot automatically as well so it does a lot of things that allows you to generate of things that allows you to generate this this figure composition completely this this figure composition completely inside our instead of having to go into inside our instead of having to go into other image editing software to to add other image editing software to to add all the different things that you need all the different things that you need to which is nice post both because it it to which is nice post both because it it simplifies a lot of things but also simplifies a lot of things but also so let's see can we use plot layout so let's see can we use plot layout globally like do you plug theme said no globally like do you plug theme said no you cannot right now I think that you you cannot right now I think that you can I have been contemplating on whether can I have been contemplating on whether you should be able to set these things you should be able to set these things somewhere globally either using options somewhere globally either using options or using other facilities like like with or using other facilities like like with theme sets so that might appear in in a theme sets so that might appear in in a later release and someone is asking why later release and someone is asking why what is the reason for not using the what is the reason for not using the plus operator for the theme let us talk plus operator for the theme let us talk about the am percent will will apply the about the am percent will will apply the the object to all of the different the object to all of the different subplots so if you only use the plus subplots so if you only use the plus operator it will apply it only to the operator it will apply it only to the last plot in the in the patchwork but last plot in the in the patchwork but with the ampersand it will actually go with the ampersand it will actually go into each and every every plot in your into each and every every plot in your composition and you can also manipulate composition and you can also manipulate the position of tech level letters this the position of tech level letters this is not a this is actually not a password is not a this is actually not a password feature as such ggplot2 supports feature as such ggplot2 supports supports the tag element natively so you supports the tag element natively so you can add attack using to you plug so can add attack using to you plug so and this is simply what what patchwork and this is simply what what patchwork is automating so so there are theme is automating so so there are theme settings and ggplot2 that allows you to settings and ggplot2 that allows you to to modify the different things and can to modify the different things and can you align the title in the middle with you align the title in the middle with patchwork you can also do that you can patchwork you can also do that you can do that as well you can have a patchwork do that as well you can have a patchwork level theme and you can have themes level theme and you can have themes settings for the different different settings for the different different plus as well okay let's move on before plus as well okay let's move on before we go to animations we should look into we go to animations we should look into the different exercises that I have the different exercises that I have maybe I will actually answer some of maybe I will actually answer some of your your questions with the exercises your your questions with the exercises as well as I said I can't really as well as I said I can't really remember what the exercises are okay so remember what the exercises are okay so let's see what I've been thinking about let's see what I've been thinking about patchwork we'll assign the same amount patchwork we'll assign the same amount of space to each plug by default but of space to each plug by default but this can be controlled with the width this can be controlled with the width and height argument and flood layout and height argument and flood layout this can take a numeric work so gave this can take a numeric work so gave them their relative sizes he chooses to them their relative sizes he chooses to one will make the first plot twice as one will make the first plot twice as big as the second so modify the code big as the second so modify the code below so that the middle plot takes up below so that the middle plot takes up half of the total space so let's see half of the total space so let's see what do we have here oh I was starting what do we have here oh I was starting from a fresh session and I also have no from a fresh session and I also have no password so the joy of life coding right password so the joy of life coding right okay let's see we have a single plot and okay let's see we have a single plot and we'll do will simply combine it with we'll do will simply combine it with itself that's right boring but just for itself that's right boring but just for illustrative purposes so if I want to illustrative purposes so if I want to control the relative sizes of the control the relative sizes of the different plots I can do that with the different plots I can do that with the plot layout function as you can see plot layout function as you can see there's quite a lot of different there's quite a lot of different different arguments to this and a love different arguments to this and a love that can just be ignored but let's see that can just be ignored but let's see if we say with with equals see if we say with with equals see to want we can see that the middle plot to want we can see that the middle plot will actually be twice as big as the as will actually be twice as big as the as the outer plus and the the thing that the outer plus and the the thing that gets bigger is simply the flood area so gets bigger is simply the flood area so it will never penalize a plot that has it will never penalize a plot that has very very wide y-axis for instance it very very wide y-axis for instance it will simply make sure that the plot area will simply make sure that the plot area and the panel is twice as big as as the and the panel is twice as big as as the others right so I think one other thing others right so I think one other thing that that is possible to do is that with that that is possible to do is that with can also be a unit mixer let's see so can also be a unit mixer let's see so instead of of just using numerix we can instead of of just using numerix we can actually set maybe potentially one of actually set maybe potentially one of the plots to have a fixed size like five the plots to have a fixed size like five centimeters from whatever so if we see centimeters from whatever so if we see is it unit see the unit function is from is it unit see the unit function is from Grif and you may stumble upon it when Grif and you may stumble upon it when you're working with G to plot in general you're working with G to plot in general as well so let's see I'm going off as well so let's see I'm going off centimeters maybe that's way too big I centimeters maybe that's way too big I don't know and null simply means fill don't know and null simply means fill out the remaining area okay out the remaining area okay so so now the five the the first plot so so now the five the the first plot will have a fixed width of 5 centimeters will have a fixed width of 5 centimeters no matter how we kind of resize the no matter how we kind of resize the total plotting area it will stay 5 total plotting area it will stay 5 centimeters and the remaining plus will centimeters and the remaining plus will then just split the remaining area then just split the remaining area between them okay let's see there are between them okay let's see there are some questions coming up I recently had some questions coming up I recently had problems when using patch work to problems when using patch work to combine plots where one uses called combine plots where one uses called fixed when I try to give them different fixed when I try to give them different width yeah so aligning fixed plots is is width yeah so aligning fixed plots is is tree and tree and work supports it to some extent but it work supports it to some extent but it will try to try to do the right thing will try to try to do the right thing but basically if you have a grid of but basically if you have a grid of plots and maybe the middle one has a has plots and maybe the middle one has a has a fixed as a fixed size and the total a fixed as a fixed size and the total like the total flood area has another like the total flood area has another aspect ratio or whatever like you you aspect ratio or whatever like you you have to figure out where to where to have to figure out where to where to concede because you cannot solve this concede because you cannot solve this optimally in all cases so sometimes it optimally in all cases so sometimes it will it will shrink the plot to maintain will it will shrink the plot to maintain the aspect ratio that it requires which the aspect ratio that it requires which will then resolve in it not being will then resolve in it not being aligned with the other plus but it will aligned with the other plus but it will try its utmost to avoid doing that but try its utmost to avoid doing that but but in the in the end if it cannot do but in the in the end if it cannot do that it will try it will simply shrink that it will try it will simply shrink it and maybe you've had problems because it and maybe you've had problems because you you ended up setting your plot in you you ended up setting your plot in such a way that that it simply could not such a way that that it simply could not figure out a solution to it like it's figure out a solution to it like it's it's basically a linear linear problem it's basically a linear linear problem solution and then sometimes these don't solution and then sometimes these don't have these don't have solutions so yes have these don't have solutions so yes what's the next thing the ampersand what's the next thing the ampersand operator can be used with any type of operator can be used with any type of ggplot2 ggplot2 object not just themes usually it's used object not just themes usually it's used with themes because you want to modify with themes because you want to modify the theme to everything at once but it the theme to everything at once but it can be used with whatever type of can be used with whatever type of ggplot2 object that you're usually ggplot2 object that you're usually adding with with plus so um oh sorry I adding with with plus so um oh sorry I don't know what happened there so here don't know what happened there so here we have two plots and as we can see we have two plots and as we can see these are aligned in the sense that the these are aligned in the sense that the panel area takes up the same amount of panel area takes up the same amount of space what it hasn't been doing is space what it hasn't been doing is aligning the actual values of of the aligning the actual values of of the of the axis and it's it's not doing that of the axis and it's it's not doing that for for very good reasons maybe there for for very good reasons maybe there will be some automatic thing in the will be some automatic thing in the future but but basically it's not always future but but basically it's not always that you want to align the exes a lot of that you want to align the exes a lot of times the the exes are not comparable in times the the exes are not comparable in any way so you don't want to align it any way so you don't want to align it right now if you want to align this you right now if you want to align this you could do that by by adding the same could do that by by adding the same scale of why continues and setting the scale of why continues and setting the limits to something that kind of limits to something that kind of fulfills oh sorry that that fulfills fulfills oh sorry that that fulfills what both of them needs so so the lower what both of them needs so so the lower one in the left plot is it's ten and the one in the left plot is it's ten and the upper one is oh let's just say forty to upper one is oh let's just say forty to be in the same side and as we can see it be in the same side and as we can see it has gone in and then applied the same has gone in and then applied the same scale Y scale to both of the plots and scale Y scale to both of the plots and since they take up the same amount of since they take up the same amount of space it means that all the tick marks space it means that all the tick marks are now actually aligned okay let's see are now actually aligned okay let's see patchwork contains many features for patchwork contains many features for fine-tuning the layout and annotation fine-tuning the layout and annotation very complex layout can be obtained by very complex layout can be obtained by providing a design specification to the providing a design specification to the design document in plot layout and the design document in plot layout and the design can be defined as a textual design can be defined as a textual representation of the cells so we use representation of the cells so we use the layout below how should the textual the layout below how should the textual representation be understood okay so we representation be understood okay so we create three plus once more and then we create three plus once more and then we we have this this layout which is just a we have this this layout which is just a text that is giving kind of a matrix of text that is giving kind of a matrix of a BBC and instead of instead of doing a BBC and instead of instead of doing nesting or whatever instead of doing nesting or whatever instead of doing something fails we simply say as a something fails we simply say as a design for this plot used to layer and design for this plot used to layer and as we can see here I hope you can as we can see here I hope you can understand what is happening the first understand what is happening the first plot is placed inside the AAA plot is placed inside the AAA area so this layout defines a 3 x 3 area so this layout defines a 3 x 3 matrix and the 2 matrix and the 2 Chapra the two left top most cells will Chapra the two left top most cells will be used for the for the a and the middle be used for the for the a and the middle to right most cells were used for the to right most cells were used for the for the second plant and the single for the second plant and the single bottom button lift area will be used for bottom button lift area will be used for the for the last plug and everything the for the last plug and everything that has this since in all carats of the that has this since in all carats of the the comment character and our at least the comment character and our at least was simply be ignored and and these like was simply be ignored and and these like a PMC is not enough something special a PMC is not enough something special you can use numbers as well if you want you can use numbers as well if you want to like that and we will get the same to like that and we will get the same result result hopefully yes we did so it's simply like hopefully yes we did so it's simply like it arranges the different values it arranges the different values alphabetically alphabetic numerically I alphabetically alphabetic numerically I think so what what if it makes it let's think so what what if it makes it let's just see so a will be the first one yet just see so a will be the first one yet and and then two and three okay anyway and and then two and three okay anyway so you can see that that it's possible so you can see that that it's possible to to create quite complex compositions to to create quite complex compositions with this right so sometimes if you want with this right so sometimes if you want something truly complex instead of doing something truly complex instead of doing a lot of nesting and and so on it might a lot of nesting and and so on it might be better to simply just define the be better to simply just define the layout either using this layout layout either using this layout specification but you can also you can specification but you can also you can also do it with say and now I have also do it with say and now I have absolutely forgotten what is called you absolutely forgotten what is called you can make these area calls and simply can make these area calls and simply just combine them with C so area from just combine them with C so area from the first left and I'll try I'm thinking the first left and I'll try I'm thinking while I'm having right now so sorry while I'm having right now so sorry about that about that so for instance this area here will will so for instance this area here will will mean that it will go from the top the mean that it will go from the top the top cells it will occupy from 1 to 1 in top cells it will occupy from 1 to 1 in the the grid and when it comes to 2 rows the the grid and when it comes to 2 rows and it will occupy from 1 to 2 in the and it will occupy from 1 to 2 in the grid when it comes to columns so this is grid when it comes to columns so this is the same as the a up here right and you the same as the a up here right and you can just combine them together won't can just combine them together won't talk about this um ok that's it so talk about this um ok that's it so there's a lot of things that you can do there's a lot of things that you can do with pass work I haven't even talked with pass work I haven't even talked about all of the things but but just about all of the things but but just rest assured that you can you can spend rest assured that you can you can spend a lot of time function in your your a lot of time function in your your compositions and you can usually avoid compositions and you can usually avoid having to spend time in an external having to spend time in an external program ok program ok so let's jump over to the next thing so let's jump over to the next thing so animations why animations there's a so animations why animations there's a lot of old and boring people who will lot of old and boring people who will probably say that animations are just probably say that animations are just fat and it's just a shim and no one fat and it's just a shim and no one should use it because a nice static should use it because a nice static visualization is all you ever need visualization is all you ever need well maybe a nice static visualization well maybe a nice static visualization is is usually sufficient and maybe it is is is usually sufficient and maybe it is usually the most correct way of showing usually the most correct way of showing data but if you want to if you want to data but if you want to if you want to do storytelling and especially if you do storytelling and especially if you want to grab attention of of people then want to grab attention of of people then animations are absolutely amazing so for animations are absolutely amazing so for instance on Twitter or LinkedIn or instance on Twitter or LinkedIn or whatever if something is moving like the whatever if something is moving like the eye is fine-tuned to detect movement and eye is fine-tuned to detect movement and you cannot look away like it is a you cannot look away like it is a fantastic way to grab the attention of fantastic way to grab the attention of people and like the the most perfect people and like the the most perfect visualization is just meaningless if no visualization is just meaningless if no one is looking at it so there's like one is looking at it so there's like there's nothing bad about wanting to there's nothing bad about wanting to grab grab people's attention it is absolutely people's attention it is absolutely critical when it comes to one aims to critical when it comes to one aims to tell your story that people are actually tell your story that people are actually listening so being able to make listening so being able to make animations and being able to make data animations and being able to make data animations is is it's quite crucial when animations is is it's quite crucial when you want to to tell stories and thought you want to to tell stories and thought about it major enough some people like about it major enough some people like some people will will discard you as I'm some people will will discard you as I'm serious when it comes to data serious when it comes to data visualization when you're employing visualization when you're employing animations don't listen to them because animations don't listen to them because it has it has value and this has a it has it has value and this has a reason there are many ways to to make reason there are many ways to to make animations in our there are the animate animations in our there are the animate page where you simply just create page where you simply just create multiple plots like one plot per frame multiple plots like one plot per frame in your animation and it will stick it in your animation and it will stick it together there's also a page called together there's also a page called movies i I think Gigi animate is I think movies i I think Gigi animate is I think the only way to do that in a in a the only way to do that in a in a grammar way so so Gigi animate is not grammar way so so Gigi animate is not simply a wrapper around ggplot2 it is an simply a wrapper around ggplot2 it is an extension of is an extension of the extension of is an extension of the grammar that ggplot2 is based upon so grammar that ggplot2 is based upon so kind of extended to talk about kind of extended to talk about animations and as such it it works quite animations and as such it it works quite seamlessly with the gnew plot too and seamlessly with the gnew plot too and and it can be kind of hard to see where and it can be kind of hard to see where do you put two stops and Judea animate do you put two stops and Judea animate begins because it simply provides new begins because it simply provides new grammar elements to add to your plot and grammar elements to add to your plot and it ended it then takes over the it ended it then takes over the rendering of the of the plus so it's not rendering of the of the plus so it's not so if we have a static plot like this so if we have a static plot like this boring economic data one of the one of boring economic data one of the one of the ways to make animation is is to have the ways to make animation is is to have a line appear as it as it goes through a line appear as it as it goes through time so this is a prime example that and time so this is a prime example that and and the way that Gigi anime works is by and the way that Gigi anime works is by providing especially a new type of providing especially a new type of object object all transitions which defines how how all transitions which defines how how the the layer data should be interpreted the the layer data should be interpreted in the sense of in the sense of of in the sense of in the sense of of animations so for instance here we we animations so for instance here we we add a transition rear-wheel and we say add a transition rear-wheel and we say well it should be revealed along the well it should be revealed along the date variable and as we're using the date variable and as we're using the date variable in our assumed line for date variable in our assumed line for the exit etic what we see is actually the exit etic what we see is actually that we have an animation that simply that we have an animation that simply shows the line appearing as a state is shows the line appearing as a state is it's increased now that is very very it's increased now that is very very little line of a few lines of code that little line of a few lines of code that needs to be added to actually make an needs to be added to actually make an animation and I think it's it's quite animation and I think it's it's quite powerful in a sense that if you have if powerful in a sense that if you have if you already have it you plot to object you already have it you plot to object making it move in some sense and in some making it move in some sense and in some ways it's extremely easy to do and it ways it's extremely easy to do and it does not uh does not make you exit that does not uh does not make you exit that that Grammer idea that you already have that Grammer idea that you already have in your in your head you can do you kind in your in your head you can do you kind of stay in a grammar world and the only of stay in a grammar world and the only thing that you have to think about is thing that you have to think about is that well we have extended like Rama now that well we have extended like Rama now to also talk about animations our to also talk about animations our transitions are not the only the only transitions are not the only the only things that that Gigi animate as to the things that that Gigi animate as to the to the mix if we look at this super to the mix if we look at this super interesting poplar where we just see the interesting poplar where we just see the amount of of casts that have different amount of of casts that have different numbers numbers of cylinders maybe we numbers numbers of cylinders maybe we want to cycle through the years of the want to cycle through the years of the camels in this data set there are two camels in this data set there are two years now what we can do is we're adding years now what we can do is we're adding a bit more interesting things to the a bit more interesting things to the fact here but what we can see is we're fact here but what we can see is we're using a new transition this time is using a new transition this time is called transition States kind of like a called transition States kind of like a discrete scale in the sense that it discrete scale in the sense that it defines defines that some different defines defines that some different states here based on year and it's states here based on year and it's simply just cycles through them and we simply just cycles through them and we can see that the past move depending on can see that the past move depending on how many there were in the different how many there were in the different years as we have a situation where one years as we have a situation where one of the year there are no of the year there are no there are no five gear and five there are no five gear and five cylinders are cars at all we have to let cylinders are cars at all we have to let a graphic element disappear somehow and a graphic element disappear somehow and into somehow and what we the way we into somehow and what we the way we specify this is by using insert and exit specify this is by using insert and exit functions so we can see when when new functions so we can see when when new data new graphic objects comes into the data new graphic objects comes into the visualization or the animation we will visualization or the animation we will will use grow into grow and when they go will use grow into grow and when they go out we'll just fade them away and as you out we'll just fade them away and as you can see that's exactly what's happening can see that's exactly what's happening one more thing is that Gigi animate also one more thing is that Gigi animate also allows you to update the different allows you to update the different titles subtitles captions and so on in titles subtitles captions and so on in your plot using using plural notation if your plot using using plural notation if you're not aware of the glue package you're not aware of the glue package it's a it's a package that allows stream it's a it's a package that allows stream literal interpretation in our so the literal interpretation in our so the title and we set up here number of cars title and we set up here number of cars in and then these curly brackets closest in and then these curly brackets closest state curly brackets in by number of state curly brackets in by number of cylinders everything that's contained cylinders everything that's contained within these curly brackets will be within these curly brackets will be evaluated as as our code and and will be evaluated as as our code and and will be inserted in the string now what is inserted in the string now what is closest state well the different closest state well the different transitions actually provide different transitions actually provide different different variables throughout the different variables throughout the animations that these these laps all animations that these these laps all these titles will be evaluated against these titles will be evaluated against so transition states will provide for so transition states will provide for instance closest state which is the the instance closest state which is the the name of the state that is closest in name of the state that is closest in times the visualization transition times the visualization transition states have both like fixed fixed parts states have both like fixed fixed parts of the animation where it just stays in of the animation where it just stays in the state and it has moving parts where the state and it has moving parts where it kind of moves between States and it kind of moves between States and closest state will always just return closest state will always just return the state that is closest to it there's the state that is closest to it there's also a next state there's also a also a next state there's also a previous state and so on so you can you previous state and so on so you can you can modify your your labels and update can modify your your labels and update them quite quite nicely so I hope it's them quite quite nicely so I hope it's it's obvious to you that just with these it's obvious to you that just with these two examples two examples Jiji enemy it allows a lot of customer Jiji enemy it allows a lot of customer station and a lot of very very different station and a lot of very very different types of animation and it kind of takes types of animation and it kind of takes this idea of a grammar and breaks it this idea of a grammar and breaks it into the animation world in the sense into the animation world in the sense that you don't need to support a fixed that you don't need to support a fixed amount of different animation types you amount of different animation types you just provides the different grammar just provides the different grammar objects and they will just kind of work objects and they will just kind of work together seamlessly and allows you to together seamlessly and allows you to define new types of animations okay so define new types of animations okay so let's just take some questions now let's just take some questions now okay okay so there's one thing from from okay okay so there's one thing from from Padua I'll just briefly give you what Padua I'll just briefly give you what would be the approach to per map the would be the approach to per map the plus operator to a list of Gigi plots so plus operator to a list of Gigi plots so patchwork provides a wrap plots function patchwork provides a wrap plots function where you can just stick in a list of where you can just stick in a list of Gigi plus and it will basically apply Gigi plus and it will basically apply the plus operator to it like that so so the plus operator to it like that so so that is usually what you want to do if that is usually what you want to do if you have if you use patchwork in a you have if you use patchwork in a functional sense we don't know how many functional sense we don't know how many plus will be provided in the end so how plus will be provided in the end so how did it at text a long plus and okay I did it at text a long plus and okay I don't really understand that the don't really understand that the animation is not showing up in my Mac animation is not showing up in my Mac down so maybe you need to install down so maybe you need to install [Music] [Music] install some packages for this to work install some packages for this to work we can talk about that later we can talk about that later so can you save Gigi animate outputs in so can you save Gigi animate outputs in a file and you can do that so a file and you can do that so interestingly Gigi animate when it interestingly Gigi animate when it describes the animation it keeps it describes the animation it keeps it unrendered and it is only when you when unrendered and it is only when you when you view the animation that it's you view the animation that it's actually rendered and the way it's actually rendered and the way it's rendered is the way it's rendered is rendered is the way it's rendered is based on the renderer that you define based on the renderer that you define and there's a there's a gif ski render and there's a there's a gif ski render that uses the gif Ski Package to to that uses the gif Ski Package to to combine pictures together into a gif combine pictures together into a gif there's also support for AV which can there's also support for AV which can make movies like MP MP for movies and make movies like MP MP for movies and whatnot and there's also support for whatnot and there's also support for making making sprite-based animations and whatever so sprite-based animations and whatever so so can you combine different animations so can you combine different animations using patchwork this is something that using patchwork this is something that is being asked quite a lot and you is being asked quite a lot and you cannot right now but that will come I cannot right now but that will come I happen to be the developer of both happen to be the developer of both packages and this is an obvious need packages and this is an obvious need that was intended from the beginning that was intended from the beginning it's just a matter of me having time to it's just a matter of me having time to actually implement it so let's let's actually implement it so let's let's look at some of the exercises um so the look at some of the exercises um so the animation below will animate between animation below will animate between parts showing casts with different parts showing casts with different silver cylinders so let's just average silver cylinders so let's just average in you animate in you animate okay so animations unfortunately are not okay so animations unfortunately are not instantaneous a big part of what I'm instantaneous a big part of what I'm doing at ggplot2 is to improve the the doing at ggplot2 is to improve the the rendering engine of graphics in our in rendering engine of graphics in our in general and that will spill over to general and that will spill over to animations as well but but as you can animations as well but but as you can see right now it will render everything see right now it will render everything in one go and then we will then it will in one go and then we will then it will show it I'm actually I am unsure why show it I'm actually I am unsure why it's not showing in inside the markdown it's not showing in inside the markdown file that I thought that was working file that I thought that was working maybe it's a new version of amok down maybe it's a new version of amok down anyway we have the we have the anyway we have the we have the visualization over here so let's just visualization over here so let's just maximize that okay so this is not a good maximize that okay so this is not a good visualization right or it's not a good visualization right or it's not a good good animation so let's just get down to good animation so let's just get down to them so what we're looking at is that we them so what we're looking at is that we have we have different casts and we're have we have different casts and we're showing the the highway yield and the showing the the highway yield and the displacement of these different casts displacement of these different casts and we will move between the different and we will move between the different casts with different cylinders and then casts with different cylinders and then we can see the points are moving between we can see the points are moving between the states the states which is kind of implying that the same which is kind of implying that the same car suddenly have four cylinders and now car suddenly have four cylinders and now the moving things have five cylinders the moving things have five cylinders and now they have six cylinders and this and now they have six cylinders and this is not true like these are distinct is not true like these are distinct casts and you don't want to to move the casts and you don't want to to move the different points when it's not like different points when it's not like being the same object that you're being the same object that you're looking at right so how do we how do we looking at right so how do we how do we fix that fix that well Gigi animate uses the group well Gigi animate uses the group aesthetic that all that's already aesthetic that all that's already present in the engine you plot to to present in the engine you plot to to figure out whether whether an object is figure out whether whether an object is the same across space and that's that's the same across space and that's that's quite important to remember because quite important to remember because usually if you don't specify the group usually if you don't specify the group aesthetic and you don't have any aesthetic and you don't have any different color or whatever you have to different color or whatever you have to you don't really need to specify that you don't really need to specify that the group aesthetic will just be set to the group aesthetic will just be set to minus one for all the rows which means minus one for all the rows which means that TJ animate will think that that that TJ animate will think that that these point all belongs to the same kind these point all belongs to the same kind of underlying data observation and it of underlying data observation and it will move them around so we can get a will move them around so we can get a better visualization by actually better visualization by actually specifying the group and we will just specifying the group and we will just specify it to something like so we'll specify it to something like so we'll just give every every point is to own just give every every point is to own unique group right let's just see how unique group right let's just see how and what we see now here is that there and what we see now here is that there is no like movement of points between is no like movement of points between the different frames which is actually the different frames which is actually what we want because each point shows a what we want because each point shows a distinct observation not from the same distinct observation not from the same cast and so on and usually we can fine cast and so on and usually we can fine tune this by it by adding enter and exit tune this by it by adding enter and exit statements so we have them fade in and statements so we have them fade in and fade out or whatnot but basically this fade out or whatnot but basically this is what we want and when I'm looking at is what we want and when I'm looking at animations in the wild this is usually animations in the wild this is usually where people kind of forget to think where people kind of forget to think about what the animation is actually about what the animation is actually conveying if you don't have the same conveying if you don't have the same underlying object that you're underlying object that you're representing you shouldn't have that the representing you shouldn't have that the graphical object move between states graphical object move between states right now sometimes you don't have to right now sometimes you don't have to think about that because sometimes think about that because sometimes ggplot2 will will add the group for you ggplot2 will will add the group for you [Music] [Music] if you for instance add back a color at if you for instance add back a color at the street color mapping then the group the street color mapping then the group will be based on that color mapping so will be based on that color mapping so if we say color factor so then the then if we say color factor so then the then the sorry I lost my track there then the the sorry I lost my track there then the group aesthetic will be derived from group aesthetic will be derived from from this cylinder factor and actually from this cylinder factor and actually end up being as we wanted as well so it end up being as we wanted as well so it is it's not always you have to specify is it's not always you have to specify the group aesthetic which is kind of the group aesthetic which is kind of annoying but but you should always think annoying but but you should always think about it right I will just let that about it right I will just let that think a bit and I just answer the next think a bit and I just answer the next the next exercise so sorry about that the next exercise so sorry about that this is not the best selling point for a this is not the best selling point for a gentleman right now right there we go gentleman right now right there we go I don't think my streaming software's I don't think my streaming software's doing anything person to - the - how doing anything person to - the - how long it takes so anyway you can see here long it takes so anyway you can see here it actually behaves as we wanted to it actually behaves as we wanted to behave again now because each point will behave again now because each point will will not have the same ID across states will not have the same ID across states anyway so there'll be no movement of the anyway so there'll be no movement of the points okay and this was what the second points okay and this was what the second exercise was all about so in the exercise was all about so in the animation below as in all other animation below as in all other animations the change happened at animations the change happened at constant speed having said constant constant speed having said constant speed how values change during an speed how values change during an animation is called easing and can't be animation is called easing and can't be controlled using the ECS function read controlled using the ECS function read the documentation for EC as an the documentation for EC as an experiment with different ease things in experiment with different ease things in the animations so we'll just while that the animations so we'll just while that is happening we can't do that maybe we is happening we can't do that maybe we so easiest it's a kind of a whip concept so easiest it's a kind of a whip concept and then you will it'll make more sense and then you will it'll make more sense when you when you look at it but as you when you when you look at it but as you can have seen when we saw the movement can have seen when we saw the movement of the points for instance they are of the points for instance they are moving at constant speed and that is moving at constant speed and that is usually not that that pleasing right usually not that that pleasing right because they suddenly stop and they because they suddenly stop and they suddenly start and this is kind of of suddenly start and this is kind of of putting sometimes at least so what we putting sometimes at least so what we can do is that we can say well the why can do is that we can say well the why is that ik should not move at constant is that ik should not move at constant speed we will say it should move in a speed we will say it should move in a cubic in our easing which means that it cubic in our easing which means that it will kind of slowly ramp up with speed will kind of slowly ramp up with speed and slowly slowly go down and speed and slowly slowly go down and speed again and all the different aesthetics again and all the different aesthetics can have it's their own easing if you can have it's their own easing if you want to where you can just set the want to where you can just set the default easing for everyone to use default easing for everyone to use [Music] [Music] while it is animating we can just have while it is animating we can just have some questions how does that animate some questions how does that animate deal with multiple layers for example deal with multiple layers for example movement path of animals on a map does movement path of animals on a map does it render the map for each frame yes it it render the map for each frame yes it does it is treating it is treating each does it is treating it is treating each thing each frame separately but what it thing each frame separately but what it doesn't do is that it is not calculating doesn't do is that it is not calculating each frame as a separate plot so it is each frame as a separate plot so it is it is reusing as much as it can but it it is reusing as much as it can but it will be rendering the the map each time will be rendering the the map each time but it will try to minimize the amount but it will try to minimize the amount how can someone regulate the speed of how can someone regulate the speed of the animation with Gigi anim so what we the animation with Gigi anim so what we see here when we just type the type the see here when we just type the type the the plot out and it will print it will the plot out and it will print it will just render something and will take a just render something and will take a fixed amount of time and what is fixed amount of time and what is actually happening is that when you actually happening is that when you print it in the same way as it when you print it in the same way as it when you when you print a ggplot2 object it will when you print a ggplot2 object it will actually plot it it will call the plot actually plot it it will call the plot what what what happens with DG animate what what what happens with DG animate objects is that it will call the animate objects is that it will call the animate function and the animate function has a function and the animate function has a lot of functionality so when when you're lot of functionality so when when you're when you're just printing the TG animate when you're just printing the TG animate object it will just use the default object it will just use the default method methods and we can see here that method methods and we can see here that there is a plot object and then we have there is a plot object and then we have a number of frames frames per second and a number of frames frames per second and duration in seconds so you have to duration in seconds so you have to specifies two of these if you specify specifies two of these if you specify three of these one of them will be three of these one of them will be ignored ignored you can also there something called you can also there something called detail which means that it will actually detail which means that it will actually render more frames than needed and only render more frames than needed and only only show a number of them and here we only show a number of them and here we can also see that there's a renderer can also see that there's a renderer argument where you can pass in different argument where you can pass in different renderers for instance the gift key renderers for instance the gift key render or the magic render or the a/v render or the magic render or the a/v render or ffmpeg render and so on and render or ffmpeg render and so on and you can have a pause at the a at the you can have a pause at the a at the start you can have a pause at the end start you can have a pause at the end you can make it really wide when it's you can make it really wide when it's done and so on I'm not getting any of done and so on I'm not getting any of the GG animate + 2 works try to rush the GG animate + 2 works try to rush this advice I cannot I kind of this advice I cannot I kind of troubleshoot during this but if you have troubleshoot during this but if you have trouble making anything of this work trouble making anything of this work then please just open an issue in GG then please just open an issue in GG animate and we can figure that out okay animate and we can figure that out okay how do you make our show how far it is how do you make our show how far it is with the animation so as we talked about with the animation so as we talked about there is these for instance the closest there is these for instance the closest state that we had in over here that we state that we had in over here that we can begin put in but did you animate can begin put in but did you animate also a respectable of any transition also a respectable of any transition you're using provide something like the you're using provide something like the index of the frame or the progression index of the frame or the progression between 0 &amp; 1 which you which you can between 0 &amp; 1 which you which you can use to show how long you are there are use to show how long you are there are no kind of progress bar currently this no kind of progress bar currently this is something I'm looking into adding so is something I'm looking into adding so you can have kind of like a like a guy you can have kind of like a like a guy that just acts as a progress bar that just acts as a progress bar okay let's just get back to Gigi animate okay let's just get back to Gigi animate and back to the exercise okay as we can and back to the exercise okay as we can see now instead of actually moving see now instead of actually moving linearly we can see that the plot will linearly we can see that the plot will take up speed and then slow down again take up speed and then slow down again which is often much nicer to to look at which is often much nicer to to look at especially if if the points are not especially if if the points are not moving along a time axis if they're moving along a time axis if they're moving along a time axis then you moving along a time axis then you usually want them to move at constant usually want them to move at constant speed because they won't they need to speed because they won't they need to represent that time truth truthfully represent that time truth truthfully okay and we done with animations okay so okay and we done with animations okay so this is just a very very quick sneak this is just a very very quick sneak peek into Gigi animated it's quite a peek into Gigi animated it's quite a beast of a package and it has quite a beast of a package and it has quite a lot of different transitions and I'm lot of different transitions and I'm planning on adding more transitions as planning on adding more transitions as for the next version as well so you're for the next version as well so you're not limited to the view that we're not limited to the view that we're already so someone asked about batchat already so someone asked about batchat races you can do that as well and you races you can do that as well and you can do other stuff stuff as well so so can do other stuff stuff as well so so like the the road is opened for you to like the the road is opened for you to to explore different types of animations to explore different types of animations based on G plot two setups one thing based on G plot two setups one thing that is particularly nice for that is particularly nice for presentations for instance is that you presentations for instance is that you can you can have a transition filter can you can have a transition filter where you where you have for each state where you where you have for each state in the transition you have a specific in the transition you have a specific filter expression for your data and filter expression for your data and we'll just show the data that that we'll just show the data that that actually that it can actually fulfill actually that it can actually fulfill that filtering statement and you can that filtering statement and you can also add layers gradually and whatnot so also add layers gradually and whatnot so there's a lot of possibilities there there's a lot of possibilities there okay so annotations while we are at the okay so annotations while we are at the storytelling this has been kind of the storytelling this has been kind of the the overarching themes with the the overarching themes with the extensions at this point in time it's extensions at this point in time it's difficult to store to tell stories when difficult to store to tell stories when you don't use worse and and you can of you don't use worse and and you can of course have titles and subtitles and course have titles and subtitles and chintz and so on where you can put in a chintz and so on where you can put in a lot of words but annotations are simply lot of words but annotations are simply [Music] [Music] annotations are simply much more annotations are simply much more powerful like pointing something out on powerful like pointing something out on a figure with text and potentially other a figure with text and potentially other stuff is super super impactful when you stuff is super super impactful when you want to draw attention to something and want to draw attention to something and and often when you want it to do like and often when you want it to do like beautiful beautiful annotation with beautiful beautiful annotation with ggplot2 you and you ended up exporting ggplot2 you and you ended up exporting it as a maybe an SVG file or whatnot and it as a maybe an SVG file or whatnot and then open it in for instance Adobe Adobe then open it in for instance Adobe Adobe Illustrator and this is okay of course Illustrator and this is okay of course and if you enjoy doing that or if you're and if you enjoy doing that or if you're kind of forced to do that because you kind of forced to do that because you want to do something that what I'm going want to do something that what I'm going to show you cannot really do then that to show you cannot really do then that is fine but we also end up in this non is fine but we also end up in this non reproducible state that we that we saw reproducible state that we that we saw with pluck conversation as well so the with pluck conversation as well so the more we can move things into code the more we can move things into code the better and recent improvements means better and recent improvements means that we can move a lot of this into it's that we can move a lot of this into it's a code I'm going to talk about two key a code I'm going to talk about two key packages for this at least when it comes packages for this at least when it comes to texture annotation this is Gigi to texture annotation this is Gigi rappel and the pegs called Gigi force rappel and the pegs called Gigi force which is not only about annotation this which is not only about annotation this is kind of a crap bag of different is kind of a crap bag of different things but it provides some very very things but it provides some very very cool things to do with with text items cool things to do with with text items Asians so this is quite a an octave plot Asians so this is quite a an octave plot but I think it's a quite common but I think it's a quite common situation to find yourself in so we have situation to find yourself in so we have some points and we want to show what some points and we want to show what points are what like we have some points are what like we have some subjects that identify these points and subjects that identify these points and we want to show what it is right this we want to show what it is right this looks horrible because there are so over looks horrible because there are so over flooding and there's way too much text flooding and there's way too much text on top of each other it's simply on top of each other it's simply ineligible now GG ripple provides some ineligible now GG ripple provides some new giome text and giome label gyms new giome text and giome label gyms which will try to kind of move labels which will try to kind of move labels they do not overlap out what I'm showing they do not overlap out what I'm showing you here is obviously not a beautiful you here is obviously not a beautiful plot there's still way too much text plot there's still way too much text here but just to show that it is that is here but just to show that it is that is able to quite efficiently figure out we able to quite efficiently figure out we have to put the different labels in a have to put the different labels in a manner so there so it minimizes manner so there so it minimizes overlapping and it will by itself draw overlapping and it will by itself draw these these lines back to the origin these these lines back to the origin point if the labels move away a certain point if the labels move away a certain amount of space and now this is this amount of space and now this is this dynamic mind you so so if you resize the dynamic mind you so so if you resize the plot the labels will be moved around so plot the labels will be moved around so so it will up to man optimally place the so it will up to man optimally place the labels in the current situation and labels in the current situation and usually when you try to do text usually when you try to do text animations or a text annotation story animations or a text annotation story you don't want to annotate everything you don't want to annotate everything anyway like you want to annotate maybe a anyway like you want to annotate maybe a few interesting points that you want to few interesting points that you want to tell a story about and TG repel can also tell a story about and TG repel can also help with that in the sense that if you help with that in the sense that if you simply said if you simply set the label simply said if you simply set the label of things that you don't want to label of things that you don't want to label to an empty string they will still kind to an empty string they will still kind of be there and and GG repel will make of be there and and GG repel will make make sure that you do not overlap the make sure that you do not overlap the points that they are looking for they points that they are looking for they link to so you can have maybe show a link to so you can have maybe show a couple of points and make sure that the couple of points and make sure that the labels for these points do not overlap labels for these points do not overlap any of the points that that doesn't have any of the points that that doesn't have any labels so that's quite nice now any labels so that's quite nice now sometimes you're not as much interested sometimes you're not as much interested in single points you may be interested in single points you may be interested in groups of points and GG force which in groups of points and GG force which is also one of my packages has some is also one of my packages has some really nice features for this so there really nice features for this so there is a family of Mark jims is a family of Mark jims this one's called with one wish looking this one's called with one wish looking at right now is called Jim Macky lips at right now is called Jim Macky lips there's also a Jim Mac so there's a Jim there's also a Jim Mac so there's a Jim Mark Richt and there's a team Mac Howe Mark Richt and there's a team Mac Howe and they all kind of do the same but and they all kind of do the same but they simply using different kind of in they simply using different kind of in closings to to do the same so dear Mac closings to to do the same so dear Mac ellipse will calculate the the minimum ellipse will calculate the the minimum and closing ellipse for all the points and closing ellipse for all the points that you want to show that you want to show and let's just walk through the code and let's just walk through the code actually so we have a ggplot and we are actually so we have a ggplot and we are using empty cars and we are mapping using empty cars and we are mapping displacement to the x-axis and miles per displacement to the x-axis and miles per gallon to the y-axis and we're having gallon to the y-axis and we're having we're using Jim points to show the we're using Jim points to show the actual points then now comes the GM mark actual points then now comes the GM mark ellipse call and an inside the aesthetic ellipse call and an inside the aesthetic we have a filter aesthetic which means we have a filter aesthetic which means that only only mark the points that has that only only mark the points that has gear equal four and then there's a label gear equal four and then there's a label aesthetic that is this simply gives it a aesthetic that is this simply gives it a title and we can also add like more text title and we can also add like more text with the description cache with fewer with the description cache with fewer ears tend to have higher yield and lower ears tend to have higher yield and lower displacement right so what we will do is displacement right so what we will do is as we talked about it will calculate the as we talked about it will calculate the minimum enclosing ellipse for this point minimum enclosing ellipse for this point and drawl and lips around it and it will and drawl and lips around it and it will actually expand the ellipse just a bit actually expand the ellipse just a bit so it makes sure that the line will not so it makes sure that the line will not go over the the points inside the go over the the points inside the ellipse further it will create this nice ellipse further it will create this nice text box and it will create this nice I text box and it will create this nice I think is statically placing a link to think is statically placing a link to these of the original data and this text these of the original data and this text box is actually placed in the in a box is actually placed in the in a manner so it will not overlap any of the manner so it will not overlap any of the other points and s with JIRA pill it other points and s with JIRA pill it will move around as you kind of update will move around as you kind of update the the aspect ratio and the size of the the the aspect ratio and the size of the plot and you can have you can have plot and you can have you can have multiple multiple ellipses within the multiple multiple ellipses within the same visualization and the different same visualization and the different text boxes will never overlap with each text boxes will never overlap with each other as well other as well so you can be confident that that the so you can be confident that that the look will not require further tweaking look will not require further tweaking with inside and under software right so with inside and under software right so this is quite nice to see oh and as we this is quite nice to see oh and as we talked about there are other types so if talked about there are other types so if you want to use a circular marking you want to use a circular marking instead we can do that and and if you instead we can do that and and if you want to have a convex or concave want to have a convex or concave all around the points you can do that as all around the points you can do that as well okay so let's dive into the well okay so let's dive into the exercises there we go so Gigi rappel has exercises there we go so Gigi rappel has a lot of settings for controlling how a lot of settings for controlling how text labels move and often it's the most text labels move and often it's the most effective thing is simply to not label effective thing is simply to not label everything and there are two strategies everything and there are two strategies for that either only use a subset of the for that either only use a subset of the data for the rebel layer or setting the data for the rebel layer or setting the labels to the empty string for those who labels to the empty string for those who that you don't want to plot it we talked that you don't want to plot it we talked about and try both in the plot below about and try both in the plot below where you're only labeled ten random where you're only labeled ten random [Music] [Music] and an empty costume would simply have and an empty costume would simply have take the row names of the empty cast and take the row names of the empty cast and assign it to to a label so we can we can assign it to to a label so we can we can map it with GG plots and then we'll map it with GG plots and then we'll simply say points to label just take ten simply say points to label just take ten random points right so if we so this is random points right so if we so this is not good right let's just give it some not good right let's just give it some more space to breathe okay so this is more space to breathe okay so this is kind of what we saw in the beginning kind of what we saw in the beginning there are like a lot of a lot of points there are like a lot of a lot of points of label and it's kind of overwhelming of label and it's kind of overwhelming so what if we just say that for the gym so what if we just say that for the gym text repeal layer we will just say well text repeal layer we will just say well the data should just be mg cars 2.2 okay the data should just be mg cars 2.2 okay so now we we only have a subset of the so now we we only have a subset of the points that we're labeling which is what points that we're labeling which is what we set out to achieve right but as we we set out to achieve right but as we can see there's the labels that we have can see there's the labels that we have they don't overlap with each other but they don't overlap with each other but they're still overlapping with with they're still overlapping with with with the points that we do not label with the points that we do not label which is simply because the layer which is simply because the layer doesn't know anything about the other doesn't know anything about the other points so it cannot avoid overlapping points so it cannot avoid overlapping them so we want to avoid that and simply them so we want to avoid that and simply make sure that that whatever whatever make sure that that whatever whatever label that we actually have in our plot label that we actually have in our plot will stay out of the out of the points will stay out of the out of the points that we have in the plot we can do that we have in the plot we can do something else we can say well mg so something else we can say well mg so points the label is simply an integer points the label is simply an integer integer vector right and and here we integer vector right and and here we just say that well those those labels just say that well those those labels that are not in this Institute vector we that are not in this Institute vector we simply assign an MC strings to that simply assign an MC strings to that right so we do that and we now we do not right so we do that and we now we do not modify the data and as we can see for modify the data and as we can see for instance with the Hornets spot about it instance with the Hornets spot about it actually moved away from this point to actually moved away from this point to the right I just realized you kind of the right I just realized you kind of see my mouse so I'm sorry if I I've been see my mouse so I'm sorry if I I've been pointing to Hornets spot about with my pointing to Hornets spot about with my mouse and thought you all knew what I mouse and thought you all knew what I was talking about and obviously you was talking about and obviously you don't but anyway in the last plot the don't but anyway in the last plot the Hornets thought about was overlapping Hornets thought about was overlapping with the point to the right of it and with the point to the right of it and using this approach we can kind of using this approach we can kind of circumvent this this overlapping which circumvent this this overlapping which is super nice so generally this is the is super nice so generally this is the preferred way of doing things preferred way of doing things explore the documentation from gym text explore the documentation from gym text repel find a way to ensure that the repel find a way to ensure that the labels in the plot below only repels in labels in the plot below only repels in the vertical direction and we could look the vertical direction and we could look into the documentation just to give you into the documentation just to give you a sense of all the different arguments a sense of all the different arguments that are here so this is quite a that are here so this is quite a mouthful right a lot of it is for mouthful right a lot of it is for styling styling the the things because styling styling the the things because you can style the the line segment and you can style the the line segment and you can style the text and you can style you can style the text and you can style all different kind of things so in terms all different kind of things so in terms of figuring out placement there is not of figuring out placement there is not that many that many settings so what we that many that many settings so what we can see here is that direction we have can see here is that direction we have an argument called direction and we can an argument called direction and we can say well move things around in both say well move things around in both directions directions or just move it in the X or Y directions or just move it in the X or Y directions what we were going for was to find a way what we were going for was to find a way to to ensure that the labels in the plot to to ensure that the labels in the plot blow only repels in the vertical blow only repels in the vertical direction that means that we should set direction that means that we should set direction equals y see how it moves okay direction equals y see how it moves okay so now we can see that the the different so now we can see that the the different labels are all kind of centered around labels are all kind of centered around the the x position of the of the point the the x position of the of the point and they will just move up or down like and they will just move up or down like that I think I'll just take some that I think I'll just take some questions now one of them is they can do questions now one of them is they can do outliers as such is kind of a weird outliers as such is kind of a weird concept in the sense that an outlier is concept in the sense that an outlier is it's kind of a human construct in the it's kind of a human construct in the sense that you decide what's an outlier sense that you decide what's an outlier is there is there's no way of telling is there is there's no way of telling whether a point is actually truly an whether a point is actually truly an outlier it is only an outlier you can outlier it is only an outlier you can just explain why you why you label it an just explain why you why you label it an outlier I know there are automatic ways outlier I know there are automatic ways of detecting outliers all of these are of detecting outliers all of these are wrong in the sense that maybe it's not wrong in the sense that maybe it's not an outlier maybe it's actually the the an outlier maybe it's actually the the interesting point that you should look interesting point that you should look into so teacher repeal cannot be used to into so teacher repeal cannot be used to identify the message I'm not sure identify the message I'm not sure whether that's the question actually or whether that's the question actually or whether is it's for labeling outliers whether is it's for labeling outliers and ensure it can be used for that but and ensure it can be used for that but but you're in control of figuring out but you're in control of figuring out what outliers are what outliers are [Music] [Music] to do so what can identify outliers not to do so what can identify outliers not just indicate an outlier exist again just indicate an outlier exist again these are all there are statistical these are all there are statistical tests but but generally if you want to tests but but generally if you want to figure out if something is an outlier figure out if something is an outlier you need to go back and see how the data you need to go back and see how the data was collected because that's the only was collected because that's the only kind of way you can explain that an kind of way you can explain that an outline exists we can see well this was outline exists we can see well this was collected in a in a false manner then collected in a in a false manner then it's a true outlier there are there are it's a true outlier there are there are great packages for identifying missing great packages for identifying missing data which is not really outlier but data which is not really outlier but kind of in the same sense that you want kind of in the same sense that you want to look into things that that may not be to look into things that that may not be bye-bye NIC Gianni called Nonya which bye-bye NIC Gianni called Nonya which provides some some extensions to ggplot2 provides some some extensions to ggplot2 for for showing missing data I know it's for for showing missing data I know it's tough directly what you asked for but I tough directly what you asked for but I was just it was just sprung to mind is was just it was just sprung to mind is it possible to combine cheesy repellent it possible to combine cheesy repellent to the enemy so that the labels changes to the enemy so that the labels changes as the animation goes yes it is you can as the animation goes yes it is you can you can certainly use act eg animate you can certainly use act eg animate will generally work with any well will generally work with any well behaved extension package and you repel behaved extension package and you repel so so it works but the way that Gigi so so it works but the way that Gigi rappel works is by kind of using a rappel works is by kind of using a spring embedded layout kind of forcing spring embedded layout kind of forcing things away from each other and as Gigi things away from each other and as Gigi animate kind of moves along you might animate kind of moves along you might have like some very drastic jumps and in have like some very drastic jumps and in how the labels move around because this how the labels move around because this this spring embedding is calculated for this spring embedding is calculated for each each frame separately and if each each frame separately and if there's huge changes to the underlying there's huge changes to the underlying position of the data then you will end position of the data then you will end up with with some drastic changes in up with with some drastic changes in where the labels gets flooded so it's where the labels gets flooded so it's kind of a hit or miss sometimes it work kind of a hit or miss sometimes it work nicely sometimes it doesn't so that's nicely sometimes it doesn't so that's just kind of how it is okay let's get just kind of how it is okay let's get back to the back to the exercises so Gigi Faust comes with four exercises so Gigi Faust comes with four different types of markjames different types of markjames try them all out in the code below okay try them all out in the code below okay so this this is this symbol simply a so this this is this symbol simply a plug and as I talked about there are plug and as I talked about there are different mark gems we can try this one different mark gems we can try this one it's dead and we can see well we get a it's dead and we can see well we get a rectangle and as we can see the rectangle and as we can see the rectangular kind of goes out of the the rectangular kind of goes out of the the plotting area and this is because the plotting area and this is because the expansion of the rectangle happens after expansion of the rectangle happens after the rendering so so it's a fixed size the rendering so so it's a fixed size like I think it's two millimeters or like I think it's two millimeters or something like that so the the extent of something like that so the the extent of the plot has no way of has no way of the plot has no way of has no way of reacting to this expansion so we can reacting to this expansion so we can just look into some of the different we just look into some of the different we have this expand sitting here if we said have this expand sitting here if we said that's know for instance we have no that's know for instance we have no extent expansion but as we can see we extent expansion but as we can see we actually have like things lying lying on actually have like things lying lying on the on the border which doesn't look the on the border which doesn't look super nice so so this is the reason why super nice so so this is the reason why there's default and expansion applied there's default and expansion applied also you can see that we have a rounding also you can see that we have a rounding of the corners per default and you can of the corners per default and you can also just turn that off by setting the also just turn that off by setting the radius to zero which will just which radius to zero which will just which reference the corner radius of the reference the corner radius of the market you so there's a lot of things we market you so there's a lot of things we can do with it let's just see we also can do with it let's just see we also have Jim Mac circle which will again have Jim Mac circle which will again this will forcefully be a true circle this will forcefully be a true circle which means that a lot of it may end up which means that a lot of it may end up being outside of the plot area if it's being outside of the plot area if it's if it's placed in the corner of it if it's placed in the corner of it that's just how it is and if if you end that's just how it is and if if you end up with the in that situation that your up with the in that situation that your best bet is simply either not use a best bet is simply either not use a circle or simply expand the the limits circle or simply expand the the limits of your of your axis to accommodate for of your of your axis to accommodate for it one other thing that you could do it one other thing that you could do which we actually didn't talk about last which we actually didn't talk about last time is that one thing you can do in the time is that one thing you can do in the new coordinate system is that you new coordinate system is that you turn off clipping which means that turn off clipping which means that things that lies outside of the panel things that lies outside of the panel will not be be clipped so if we do that will not be be clipped so if we do that we can see well it doesn't really we can see well it doesn't really improve the look but but you can improve the look but but you can actually see that it is still there the actually see that it is still there the last mark Jim is called Mack hull and as last mark Jim is called Mack hull and as we can see it will draw by default it we can see it will draw by default it will draw a concave hull which means will draw a concave hull which means it's not a convex hull as we as we use I it's not a convex hull as we as we use I used to think about but this can be it used to think about but this can be it can be set so if we if we set it to ten can be set so if we if we set it to ten for instance it will be like on a convex for instance it will be like on a convex hull and we can make it more or less hull and we can make it more or less follow around the points by by follow around the points by by decreasing it so so setting it to one or decreasing it so so setting it to one or maybe let's try to such a 0.5 to see if maybe let's try to such a 0.5 to see if we can make it dip even more let's just we can make it dip even more let's just see what happens I love change anyway see what happens I love change anyway you can you can play with the concavity you can you can play with the concavity argument to simply figure out how how argument to simply figure out how how closely it should follow the the border closely it should follow the the border of of your data one thing we haven't of of your data one thing we haven't really seen here like as I talked about really seen here like as I talked about you can have multiple multiple different you can have multiple multiple different marks in one layer and it will make sure marks in one layer and it will make sure that the labels will not overlap is just that the labels will not overlap is just go back to this one so let's just we'll go back to this one so let's just we'll just ignore the labels for now and say just ignore the labels for now and say we'll say fill equals two we'll say fill equals two so now it actually no this doesn't look so now it actually no this doesn't look super nice to say let's use the whole super nice to say let's use the whole actually still not using looking super actually still not using looking super nice but this is simply because there's nice but this is simply because there's a lot of overlap between the different a lot of overlap between the different groups so so that's just how it is but groups so so that's just how it is but anyway if you if you just assign a film anyway if you if you just assign a film then then will behave kind of like then then will behave kind of like whatever you you would normally see that whatever you you would normally see that that you you'll have multiple different that you you'll have multiple different different groups and here they will different groups and here they will overlap so in that sense you can you can overlap so in that sense you can you can also set the label to be to be gear for also set the label to be to be gear for instance and and we will have the labels instance and and we will have the labels placed there as well so you don't need placed there as well so you don't need labels you actually also don't need you labels you actually also don't need you don't need the markings as well so if we don't need the markings as well so if we just say group equals that and say so just say group equals that and say so now we just is this kind of nonsensical now we just is this kind of nonsensical but but just to show you can have one but but just to show you can have one without the other if you want to you can without the other if you want to you can either have the labels and you can have either have the labels and you can have the grouping and closings and you're the grouping and closings and you're gonna have both of them at the same time gonna have both of them at the same time right so there's a lot of possibility right so there's a lot of possibility built into this and sometimes you want built into this and sometimes you want to have like create a big group of to have like create a big group of different things actually I think just a different things actually I think just a maintenance so the first the first plot maintenance so the first the first plot I showed in this section actually had oh I showed in this section actually had oh there we have it sorry now we have it so there we have it sorry now we have it so so this is obviously made with with GG so this is obviously made with with GG force and the gym mark ellipse as we can force and the gym mark ellipse as we can see we have we are marking a big area of see we have we are marking a big area of points that has a general interest and points that has a general interest and then we are actually marking and kind of then we are actually marking and kind of an outlier that that sits within this an outlier that that sits within this area but it's not part of that group area but it's not part of that group right so so you can you can do a lot of right so so you can you can do a lot of fancy things and love fancy things and love start selling using this right okay start selling using this right okay let's get back on track sir for this let's get back on track sir for this short division and there we are okay short division and there we are okay we're kind of back on track now okay we're kind of back on track now okay before I go into network plus I just before I go into network plus I just want to briefly say that annotations is want to briefly say that annotations is a lot of things and here I'm only a lot of things and here I'm only talking about text annotation one other talking about text annotation one other package that well will just briefly package that well will just briefly mention and I think you should look into mention and I think you should look into is one called Gigi highlight which is one called Gigi highlight which allows you to kind of color specific allows you to kind of color specific points based on some conditions so you points based on some conditions so you have you you have your general G plot to have you you have your general G plot to code and then you then you simply say code and then you then you simply say well right now with all this this code I well right now with all this this code I want to make everything that does not want to make everything that does not fulfill this condition transparent or fulfill this condition transparent or whatever or I want to mute the colors of whatever or I want to mute the colors of everything that does not follow this everything that does not follow this this condition right so so this is this condition right so so this is another type of annotation way to kind another type of annotation way to kind of draw attention to certain parts of of draw attention to certain parts of your area and did you highlight along your area and did you highlight along with for instance Gigi force is with for instance Gigi force is fantastic to to kind of draw attention fantastic to to kind of draw attention to aspects of your visualization that to aspects of your visualization that you you want the reader or viewer to you you want the reader or viewer to take note of because you can still see take note of because you can still see the underlying data but it's very clear the underlying data but it's very clear and you're directing the the eye of the and you're directing the the eye of the viewer in a very clear way in saying viewer in a very clear way in saying well there's all this data but look at well there's all this data but look at this this is the thing that you should this this is the thing that you should really focus on so there's at the moment really focus on so there's at the moment there's a fantastic amount of different there's a fantastic amount of different annotation functions and generally as we annotation functions and generally as we talked about a lot of storytelling talked about a lot of storytelling functions build into G plot 2 in the functions build into G plot 2 in the extension system that allows you to not extension system that allows you to not need to go into Adobe Illustrator or need to go into Adobe Illustrator or whatever but can actually create whatever but can actually create publication where the figures directly publication where the figures directly encode encode without any any type of post-processing without any any type of post-processing [Music] [Music] let's see yes I think we'll just move on let's see yes I think we'll just move on I'm sorry I can't take all of the I'm sorry I can't take all of the questions as it is that's just how it's questions as it is that's just how it's going to be I can see that the time is going to be I can see that the time is already slipping so so we'll hastily already slipping so so we'll hastily move on so networks this is another move on so networks this is another thing of mine do you plan to was was thing of mine do you plan to was was generally built for a particular data generally built for a particular data and ggplot2 was potentially one of the and ggplot2 was potentially one of the first packages to really enforce this first packages to really enforce this idea of Tidy data even before tiny data idea of Tidy data even before tiny data exists as a existed as as a name but you exists as a existed as as a name but you have to keep in mind that this is really have to keep in mind that this is really just an API decision like there's just an API decision like there's there's nothing in the underlying theory there's nothing in the underlying theory of the grammar of graphics that says of the grammar of graphics that says that the data has to be tabular so so that the data has to be tabular so so networks for instance is very very badly networks for instance is very very badly represented by a single tabular data represented by a single tabular data source you can however represented as source you can however represented as two tabular data sources one describing two tabular data sources one describing the inches of your network and one the inches of your network and one describing the notes so if you if you describing the notes so if you if you haven't really looked into in some haven't really looked into in some networks in general notes are the things networks in general notes are the things that are being connected and edges are that are being connected and edges are the things are the connections between the things are the connections between them other names can be inverses which them other names can be inverses which is the same as nodes and links which is is the same as nodes and links which is the same as the same as edges and there the same as the same as edges and there are a few others as well so there are are a few others as well so there are there are multiple packages that tries there are multiple packages that tries to do network visualization or ad to do network visualization or ad network capabilities into ggplot2 g GL network capabilities into ggplot2 g GL AGG network Jim net GD 3 GD DAC so AGG network Jim net GD 3 GD DAC so that's that's quite a lot jeez your led that's that's quite a lot jeez your led the network into Jim net has tried to the network into Jim net has tried to kind of make make a general approach to kind of make make a general approach to what I would call Note edge diagram some what I would call Note edge diagram some will call it help all diagrams because will call it help all diagrams because they usually end up looking horrible they usually end up looking horrible like a mess of things this is not the like a mess of things this is not the fault of these packages this is just fault of these packages this is just like this visualization type is it's not like this visualization type is it's not suited for for large amount of data GG suited for for large amount of data GG tree and GG tag are more specialized so tree and GG tag are more specialized so so GG tree as a package meant for so GG tree as a package meant for creating especially evolutionary trees creating especially evolutionary trees but in general also all kinds of other but in general also all kinds of other trees tree dendrograms and so on ours trees tree dendrograms and so on ours also network diagrams and in the sense also network diagrams and in the sense GG tag is specialized in to creating GG tag is specialized in to creating directed acyclic graphs which is a kind directed acyclic graphs which is a kind of also kind of a tree but it allows of also kind of a tree but it allows multiple parents now I'm not going to multiple parents now I'm not going to talk about any of these I'll talk about talk about any of these I'll talk about ggrf which is another of my packages so ggrf which is another of my packages so gif is I'm sure most of the other gif is I'm sure most of the other authors of these packages will agree is authors of these packages will agree is I think the the most the biggest package I think the the most the biggest package when it comes to creating networks in when it comes to creating networks in the sense that it provides the most the sense that it provides the most capabilities and let's just dive into it capabilities and let's just dive into it G giraffe comes kind of hand-in-hand G giraffe comes kind of hand-in-hand with another package called tidy graph with another package called tidy graph which is the package that that allows which is the package that that allows for a tidy approach to to network for a tidy approach to to network modifications in the same like it's kind modifications in the same like it's kind of a deep lie a plus plan plus per kind of a deep lie a plus plan plus per kind of package just made for networks and so of package just made for networks and so it allows using mutate and inducing it allows using mutate and inducing filter and whatnot on network objects so filter and whatnot on network objects so just to show off we'll start by creating just to show off we'll start by creating a network we call graph and so this is a a network we call graph and so this is a data set called secory which is data set called secory which is friendships between pupils in the sakura friendships between pupils in the sakura karate club which is a kind of like iris karate club which is a kind of like iris for network data and we calculate a for network data and we calculate a social clique for each of the nodes social clique for each of the nodes using a tidy graph function group info using a tidy graph function group info map so we're using an community map so we're using an community detection algorithm called info map detection algorithm called info map which simply assigns an integer to which simply assigns an integer to specify the membership specify the membership of different to different groups right of different to different groups right now to plot this using a gif instead of now to plot this using a gif instead of using ggplot to start with we will using ggplot to start with we will reduce ggrf and pass it in this this reduce ggrf and pass it in this this graph object and now we'll just specify graph object and now we'll just specify the itches and the notes separately the itches and the notes separately because they're kind of different because they're kind of different separate data sources and they need to separate data sources and they need to be treated separately so we say giraffe be treated separately so we say giraffe plus gh link which is simply just a plus gh link which is simply just a straight line that connects notes that straight line that connects notes that has an edge between them and Jim note has an edge between them and Jim note points which is simply just kind of at points which is simply just kind of at the point Jim and we'll color by by the point Jim and we'll color by by click and there you have it we have we click and there you have it we have we have our network plot now it may look have our network plot now it may look like with the start with the ggrf call like with the start with the ggrf call that the teacher F is something that that the teacher F is something that that kind of sits by itself but but that kind of sits by itself but but really what we're working with this is really what we're working with this is simply a ggplot object in the gif simply a ggplot object in the gif function system as you plot two objects function system as you plot two objects it just does additional work under the it just does additional work under the hood that allows everything to work hood that allows everything to work nicely but but it is underneath it all nicely but but it is underneath it all it's still a ggplot2 object and we can it's still a ggplot2 object and we can see that by by looking at it well we can see that by by looking at it well we can still use the standard ggplot geum's still use the standard ggplot geum's that were used to so here we're taking that were used to so here we're taking from GG force Jim Marco and use that to from GG force Jim Marco and use that to color in different clicks so it's it's color in different clicks so it's it's kind of powerful in the sense that it kind of powerful in the sense that it defines something that is specific to defines something that is specific to networks but it's still just ggplot networks but it's still just ggplot under the hood and that means that it under the hood and that means that it can also be used with patchwork it can can also be used with patchwork it can be used with GG anime the computers with be used with GG anime the computers with all these these are the things that that all these these are the things that that works together in the extended universe works together in the extended universe so that's quite nice further ggrf so that's quite nice further ggrf understands more or less all the understands more or less all the different objects that that are different objects that that are represented as as networks inside off so represented as as networks inside off so for instance the output of h plus is an for instance the output of h plus is an H plus object which defines the H plus object which defines the dendrogram dendrogram and and this can be understood as a and and this can be understood as a graph object by ggrf well underneath it graph object by ggrf well underneath it all it will it will convert them to the all it will it will convert them to the tiny graph representation but tidy graph tiny graph representation but tidy graph understands almost everything about understands almost everything about networks and in R so you can be networks and in R so you can be confident that most of the things that confident that most of the things that you that you usually work with which our you that you usually work with which our networks can be used directly with ggrf networks can be used directly with ggrf so here we're just saying well we create so here we're just saying well we create a hierarchical clustering of iris and a hierarchical clustering of iris and and we cut this with IRA with ggrf using and we cut this with IRA with ggrf using a new edge we could use another cubic a new edge we could use another cubic elbow which will draw kind of straight elbow which will draw kind of straight angles but he would just kind of like angles but he would just kind of like this this fancy organic look of a bit of this this fancy organic look of a bit of rounded corner and again we'll add Jim rounded corner and again we'll add Jim note pine and we'll just ask Jim note note pine and we'll just ask Jim note we'll just add points only to to the we'll just add points only to to the Leafs of this this telegram that's mean Leafs of this this telegram that's mean the terminal nodes of this tree now the the terminal nodes of this tree now the leaf didn't exist in our input data but leaf didn't exist in our input data but different types of layout will we'll different types of layout will we'll kind of add additional information to kind of add additional information to your data source during computation so your data source during computation so this is all described inside inside the this is all described inside inside the documentation but when you're creating a documentation but when you're creating a when you're when you're drawing a when you're when you're drawing a dendrogram you can be sure that there dendrogram you can be sure that there will be a leaf variable that says well will be a leaf variable that says well is this node and leaf or not and and we is this node and leaf or not and and we can just use that and then assign it to can just use that and then assign it to the field aesthetic that that exists for the field aesthetic that that exists for all the different ggrf geum's let's just all the different ggrf geum's let's just take a quick look at the questions how take a quick look at the questions how can i improve the rendering quality of can i improve the rendering quality of my plus in our studio my guess is that my plus in our studio my guess is that you are on Windows you are on Windows much in I can't pronounce your your last much in I can't pronounce your your last name and on Windows the default device name and on Windows the default device is horrible and it is horrible and it horrible and TV or our studio is is horrible and TV or our studio is is simply using the default PNG device to simply using the default PNG device to render its plus so it will also look render its plus so it will also look horrible horrible one way of getting away with that is to one way of getting away with that is to not use windows but that's not a really not use windows but that's not a really compelling argument to switch from compelling argument to switch from windows but you can change I think you windows but you can change I think you can change the default the default PNG can change the default the default PNG device by setting a certain option device by setting a certain option inside with the options function I can't inside with the options function I can't really go into it up but you can look really go into it up but you can look into how can you how can I change how into how can you how can I change how can I change the whether I'm using cairo can I change the whether I'm using cairo or the the standard windows windows or the the standard windows windows rendering and so on and if you set it to rendering and so on and if you set it to cairo then you will get much nicer plots cairo then you will get much nicer plots and that's just how it is i can i can and that's just how it is i can i can say that that our studio is looking into say that that our studio is looking into improving that because we don't like how improving that because we don't like how it is so we'll probably you'll probably it is so we'll probably you'll probably see changes to the to the graphic device see changes to the to the graphic device in our studio within the next couple of in our studio within the next couple of i don't know you a half year a year i don't know you a half year a year something like that maybe so so that's something like that maybe so so that's one way but it's it's kind of annoying one way but it's it's kind of annoying that if you're in Windows the default that if you're in Windows the default just simply looks horrible but that's just simply looks horrible but that's just a set state of affair ytg force I I just a set state of affair ytg force I I don't know if it's a question to to to don't know if it's a question to to to the name but that was just me thinking the name but that was just me thinking it look sounds good okay is there a way it look sounds good okay is there a way for regular layers to access the edges - for regular layers to access the edges - yes there is yes there is so when you look at the when you look at so when you look at the when you look at the code up here we don't specify that the code up here we don't specify that um we don't specify whether you're using um we don't specify whether you're using its data or no data and the different in its data or no data and the different in the different layers it's just simply the different layers it's just simply follows that gmh pin will access the s follows that gmh pin will access the s data and you'll note point will access data and you'll note point will access the note data the note data [Music] [Music] am i muted can no one hear me okay am i muted can no one hear me okay people can still hear me maybe your people can still hear me maybe your computer audio is muted instead I don't computer audio is muted instead I don't know I take it that that my mic is know I take it that that my mic is working fine okay and so here we don't working fine okay and so here we don't really need to specify anything in in a really need to specify anything in in a different layers but if we want to different layers but if we want to specify have a have itches drawn by by specify have a have itches drawn by by some other layer that does not some other layer that does not automatically grab the s data you can do automatically grab the s data you can do that by it is passing in the correct that by it is passing in the correct function to the data argument I won't function to the data argument I won't show it here but I won't show it here show it here but I won't show it here but but you can get around that okay but but you can get around that okay okay people seem to be hearing me so I okay people seem to be hearing me so I think it's a it's a fluke and maybe some think it's a it's a fluke and maybe some network problems anyway let's um let's network problems anyway let's um let's okay most Network+ are defined by a okay most Network+ are defined by a layout algorithm which takes the network layout algorithm which takes the network structure and calculate a position for structure and calculate a position for each node the layout algorithm is global each node the layout algorithm is global and is set as part of the teacher F the and is set as part of the teacher F the default is also a layout which respect default is also a layout which respect the network object and try to choose a the network object and try to choose a sensible layout yeah so oops sensible layout yeah so oops I need to do that up here oh my god I need to do that up here oh my god there we go sorry about that there we go sorry about that the notes kind of just gets placed the notes kind of just gets placed somewhere and they get placed in the somewhere and they get placed in the sense that you get kind of an overview sense that you get kind of an overview of your network structure but but you of your network structure but but you should be aware that this is just kind should be aware that this is just kind of a heuristic placement of the nodes of a heuristic placement of the nodes there are no true placement of the nodes there are no true placement of the nodes and there's a lot of different layout and there's a lot of different layout algorithm that just kind of different algorithm that just kind of different types of way of positioning the nodes types of way of positioning the nodes and none of them are actually kind of and none of them are actually kind of true which is one of the the big true which is one of the the big problems in general with with these problems in general with with these types of network plus you tend to look types of network plus you tend to look way too much into the location of the way too much into the location of the nodes nodes even though that these are kind of just even though that these are kind of just a byproduct of the layout algorithm if a byproduct of the layout algorithm if someone ever shows you kind of a plot someone ever shows you kind of a plot even with bigger bigger network data and even with bigger bigger network data and someone says well because we can clearly someone says well because we can clearly see a cluster in this area then then be see a cluster in this area then then be skeptical at the very beginning of that skeptical at the very beginning of that sentence because you cannot infer sentence because you cannot infer clusters by simply looking at a network clusters by simply looking at a network plot anyway that was my my big my big plot anyway that was my my big my big setup there so there is so for instance setup there so there is so for instance we can say that we want to have a layout we can say that we want to have a layout that is based on I just know by hot that is based on I just know by hot different types of layouts and we can different types of layouts and we can see the the see the the Emily algorithm is okay someone is Emily algorithm is okay someone is keeping stars is acting up so who is keeping stars is acting up so who is I don't know how to ban people I am I don't know how to ban people I am just a minute I'm sorry for that this just a minute I'm sorry for that this this dream in general is intended to be this dream in general is intended to be a very very nice place for people to be a very very nice place for people to be so please don't be idiots I'm sorry I so please don't be idiots I'm sorry I I just removed his missus that doesn't I just removed his missus that doesn't okay sorry I will just ignore the chat okay sorry I will just ignore the chat for a while I am sorry if things are for a while I am sorry if things are acting up in there and people are being acting up in there and people are being idiots I kind of patrol the chat while idiots I kind of patrol the chat while I'm talking so okay let's get back on I'm talking so okay let's get back on track so as you can see there are track so as you can see there are different types of layouts that we can different types of layouts that we can that we can try out and no it should that we can try out and no it should just be said that none of these are true just be said that none of these are true like you can you can try different out like you can you can try different out and see what's aesthetically pleasing and see what's aesthetically pleasing for you or which kind of best tells the for you or which kind of best tells the story but they are all kind of just story but they are all kind of just [Music] [Music] they're all just kind of byproducts of they're all just kind of byproducts of an underlying algorithm that is not an underlying algorithm that is not objectively true okay so anyway sorry I objectively true okay so anyway sorry I got a bit distracted on what was got a bit distracted on what was happening on the chat I will just ignore happening on the chat I will just ignore it for now there are many ways to draw it for now there are many ways to draw edges as well so let's just have a look edges as well so let's just have a look at at this plus over here here we have a at at this plus over here here we have a high school data set which shows high school data set which shows friendship in a high school as it friendship in a high school as it evolves over two different years and evolves over two different years and this means that there are multiple H is this means that there are multiple H is going between the same two notes and we going between the same two notes and we cannot see that here because all the H cannot see that here because all the H is kind of just overlap in the same way is kind of just overlap in the same way but there are a lot of different ways as but there are a lot of different ways as as to draw edges we thought you miss as to draw edges we thought you miss link before and here as well and we saw link before and here as well and we saw it you may spend and there are a lot of it you may spend and there are a lot of other things so for instance th parallel other things so for instance th parallel will take parallel edges and kind of will take parallel edges and kind of just shift in a bit aside again this is just shift in a bit aside again this is not a beautiful plot but just as you can not a beautiful plot but just as you can see how it works it will it will take see how it works it will it will take multiple inches and kind of spread them multiple inches and kind of spread them out the same thing can be can be done out the same thing can be can be done with the image fan for instance which with the image fan for instance which instead of drawing them as parallel will instead of drawing them as parallel will kind of just give it different bins kind of just give it different bins instead so just to show you there are a instead so just to show you there are a lot of different ways that you can lot of different ways that you can you can draw your edges as well and you can draw your edges as well and faceting works in ggrf as well as a faceting works in ggrf as well as a dozen ggplot2 but you should not use the dozen ggplot2 but you should not use the building you should not use your building you should not use your building facets from ggplot2 because building facets from ggplot2 because they they assume a single data source they they assume a single data source and that doesn't really work instead we and that doesn't really work instead we can say that I want to face it can say that I want to face it as to the edges and I want to facet them as to the edges and I want to facet them by I think it's called the Year column by I think it's called the Year column and there we go we have the the subplot and there we go we have the the subplot that corresponds to the 1957 and another that corresponds to the 1957 and another plot corresponding to two friendships in plot corresponding to two friendships in 95 58 so again ggrf allows you to do a 95 58 so again ggrf allows you to do a lot of the things that you will lot of the things that you will generally want to do in ggplot2 generally want to do in ggplot2 okay so let's get back to the okay so let's get back to the presentation presentation okay the last thing I'm going to talk okay the last thing I'm going to talk about when it comes to two extensions is about when it comes to two extensions is looks theming is one of the things that looks theming is one of the things that is one of the easiest things to extend is one of the easiest things to extend we talked about how we can do a lot of we talked about how we can do a lot of things with themes last time and there things with themes last time and there is a lot of options with extension is a lot of options with extension packages this provides a lot of packages this provides a lot of different looks that you can just different looks that you can just piggyback on so if you don't have like piggyback on so if you don't have like this aesthetic or artistic gene where this aesthetic or artistic gene where you want to look into all of these these you want to look into all of these these different settings that the theme different settings that the theme provides then you can simply look into provides then you can simply look into some of all these nice theme package and some of all these nice theme package and just pick a pleasing one you don't have just pick a pleasing one you don't have to be original to to create nice nice to be original to to create nice nice plus right so these what that you sorry plus right so these what that you sorry what you should think about is that a what you should think about is that a theme is often covered with a coupled theme is often covered with a coupled with a colors with a colors so if you change this team theme the the so if you change this team theme the the color scale that you use for color and color scale that you use for color and fill will usually look out of place if fill will usually look out of place if you don't update it to change with it you don't update it to change with it and a lot of these packages comes with and a lot of these packages comes with with scales that fill in color scales with scales that fill in color scales so one a great starting point to simply so one a great starting point to simply make very very pleasing pleasing plots make very very pleasing pleasing plots is the HRP are themes which provides a is the HRP are themes which provides a very very simple very elegant theme very very simple very elegant theme which is a fantastic starting ground for which is a fantastic starting ground for for simply just changing it a bit if you for simply just changing it a bit if you want to or simply just have a very want to or simply just have a very elegant theme it provides this theme elegant theme it provides this theme Epsom and also provides a couple of Epsom and also provides a couple of others and it provides color scales and others and it provides color scales and feel scales to go along with it there feel scales to go along with it there are also others more to the front side I are also others more to the front side I would say for instance if you want to would say for instance if you want to create if you if you look back and wish create if you if you look back and wish for the times when when the classic for the times when when the classic excel existed you can replicate it here excel existed you can replicate it here and then you will look at the default and then you will look at the default gray background with with joy in your gray background with with joy in your eyes and that is kind of it I don't want eyes and that is kind of it I don't want to go into the exercise for the themes to go into the exercise for the themes because they're not that interesting and because they're not that interesting and we are running short on time so I'll we are running short on time so I'll just wrap up a bit just wrap up a bit this ended up taking way longer than I this ended up taking way longer than I expected so thank you for hanging in expected so thank you for hanging in there the last part is kind of a talky there the last part is kind of a talky part without any exercises and I want to part without any exercises and I want to kind of go in and into the promise of kind of go in and into the promise of the idea of drawing anything with with the idea of drawing anything with with ggplot2 so as we can see there's a lot ggplot2 so as we can see there's a lot you can do with ggplot2 and there's a you can do with ggplot2 and there's a lot of things that that you cannot do lot of things that that you cannot do just with ggplot2 but when you pull in just with ggplot2 but when you pull in the whole extension system you the whole extension system you you can really draw a lot of things but you can really draw a lot of things but the gram of traffic as it is it's not the gram of traffic as it is it's not just for for creating graphs also for just for for creating graphs also for deconstructing them as well so when deconstructing them as well so when someone is presenting a craft to you you someone is presenting a craft to you you can use this idea of the grammar of can use this idea of the grammar of traffic to kind of break it down and traffic to kind of break it down and better understand what's actually going better understand what's actually going on and hopefully make sure that you're on and hopefully make sure that you're not that it is not cheating on you and not that it is not cheating on you and that you're actually understanding and that you're actually understanding and in the right way in the right way what you should keep in mind is that the what you should keep in mind is that the grammar is actually ambiguous and that grammar is actually ambiguous and that is that it's okay that there's a lot of is that it's okay that there's a lot of ways to deconstruct a graph and think ways to deconstruct a graph and think about a graph and one way we can look at about a graph and one way we can look at that is to go back to our fantastic pie that is to go back to our fantastic pie chart so so just let us think a bit chart so so just let us think a bit about how does a pie chart fit into the about how does a pie chart fit into the grammar of graphic we haven't really grammar of graphic we haven't really looked at it since the very first slide looked at it since the very first slide in part one and so when we're presented in part one and so when we're presented with this how should we kind of with this how should we kind of deconstruct it in a grammar of graphics deconstruct it in a grammar of graphics sense what are the geums what are the sense what are the geums what are the stats one of the course what are the stats one of the course what are the data these kind of things is things data these kind of things is things something that that you can benefit a something that that you can benefit a lot of thing lot of thing not from Byam by looking at the like not from Byam by looking at the like looking at the plot and thinking about looking at the plot and thinking about where everything comes from where everything comes from so if we want to create a pie chart with so if we want to create a pie chart with ggplot2 well one way of doing it is that ggplot2 well one way of doing it is that well we start by by creating some data well we start by by creating some data this is just an unsecured nonsensical this is just an unsecured nonsensical data but one way we could do it is by data but one way we could do it is by starting by creating this the stacked starting by creating this the stacked bar chart where everything is in the bar chart where everything is in the same same place and stacked on top of same same place and stacked on top of each other and then we can apply a polar each other and then we can apply a polar coordinate system to it and then coordinate system to it and then suddenly we have a pie chart right so suddenly we have a pie chart right so this is something that fits very nicely this is something that fits very nicely within then ggplot2 and this is one of within then ggplot2 and this is one of the things that that the things that that you know Wilkinson naturally ended up you know Wilkinson naturally ended up [Music] [Music] ended up showing this this first chapter ended up showing this this first chapter where he talked about what is a pie where he talked about what is a pie chart this is well a pie chart is a chart this is well a pie chart is a polar coordinate system stacked bar polar coordinate system stacked bar chart in the polar coordinate system chart in the polar coordinate system right and we can just chase a bit of the right and we can just chase a bit of the themes and we have have this look that themes and we have have this look that we ended up having well so a pie chart we ended up having well so a pie chart is a stacked bar chart in a in a polar is a stacked bar chart in a in a polar coordinate system right well not coordinate system right well not necessarily because you can also see necessarily because you can also see that saying that a pie chart is is a that saying that a pie chart is is a which GM coupled with a step for which GM coupled with a step for calculating radians now this looks this calculating radians now this looks this sounds quite weird but but this is sounds quite weird but but this is equally a true true grammar equally a true true grammar representation of a pie a pie chart so representation of a pie a pie chart so if we're using this is from Jiji false if we're using this is from Jiji false again as I said this is just a package again as I said this is just a package with a lot of different things a with a lot of different things a grab-bag of source and if for instance grab-bag of source and if for instance it provides this geum akbar which which it provides this geum akbar which which allows you to draw witches and we just allows you to draw witches and we just said the inner radius to be 0 so it's a said the inner radius to be 0 so it's a it's a full witch and then we use the it's a full witch and then we use the the PI stat which will calculate the the PI stat which will calculate the radiance needed for pie chart and then radiance needed for pie chart and then we'll just draw it with chord fix we'll just draw it with chord fix because we want the true circular because we want the true circular representation and we can just provide representation and we can just provide the same like theme differences and we the same like theme differences and we end up in the same way so what is true end up in the same way so what is true well none of them are uniquely true and well none of them are uniquely true and it's just to kind of show that when you it's just to kind of show that when you have a when you have a plot and you have a when you have a plot and you decompose it you can you can end up decompose it you can you can end up going in different direction and that is going in different direction and that is ok some of the things some of the the ok some of the things some of the the the choices that you make when you the choices that you make when you decompose it actually can influence what decompose it actually can influence what you can do with the with the plot that you can do with the with the plot that you end up creating so for instance if you end up creating so for instance if you have a pie chart in akola polar you have a pie chart in akola polar coordinate system you cannot really have coordinate system you cannot really have exploded wedges if that is your fancy or exploded wedges if that is your fancy or if it's a fancy of your of your bus if it's a fancy of your of your bus because you usually not want to make up because you usually not want to make up with explode the wages and the reason with explode the wages and the reason for that is that that you it's very very for that is that that you it's very very difficult to make linear transformations difficult to make linear transformations of the genomes when when everything is of the genomes when when everything is based on this polar coordinate system so based on this polar coordinate system so if you really really really want to make if you really really really want to make exploded wishes in your pie chart you exploded wishes in your pie chart you need to do that in a Cartesian need to do that in a Cartesian coordinate system and then you need to coordinate system and then you need to think about a pie chart as as a wedge think about a pie chart as as a wedge tomb with a with a pie stand applied to tomb with a with a pie stand applied to it another example of this is that when it another example of this is that when you look at the Geum histogram or a you look at the Geum histogram or a histogram then in general you will think histogram then in general you will think about it as a packraft with a with a about it as a packraft with a with a bidding sted applied to it bidding sted applied to it this also simply has a Geum histogram this also simply has a Geum histogram shortcut and in GG plot 2 and this is shortcut and in GG plot 2 and this is how we usually construct histograms in R how we usually construct histograms in R or with ggplot2 at least now it can also or with ggplot2 at least now it can also be something else for instance you can be something else for instance you can you can use a pinning scale instead and you can use a pinning scale instead and simply use jimpad directly because then simply use jimpad directly because then the scale is actually bidding bidding the scale is actually bidding bidding these things and as you can see it these things and as you can see it dramatically or not maybe not dramatically or not maybe not dramatically but it changes the look of dramatically but it changes the look of of what you end up with because the of what you end up with because the bidding scale has has different X's bidding scale has has different X's ticks so so you'll actually have ticks ticks so so you'll actually have ticks between your between your bin paths between your between your bin paths which for some applications can be super which for some applications can be super nice and for other it's just over nice and for other it's just over plotting right so this is just kind of plotting right so this is just kind of teases about what you can do when you teases about what you can do when you sit down and think about well what this sit down and think about well what this plot type how is that represented by the plot type how is that represented by the grammar of graphics and there are grammar of graphics and there are multiple routes to take and and there's multiple routes to take and and there's a lot of different different things to a lot of different different things to consider and just the mental gymnastics consider and just the mental gymnastics of trying to translate things into of trying to translate things into Instagram of graphic is it's really Instagram of graphic is it's really really powerful in the sense that it really powerful in the sense that it allows you to get more acquainted with allows you to get more acquainted with the data that it's actually being shown the data that it's actually being shown to you so it's a very very good thing to to you so it's a very very good thing to do and one way that you can challenge do and one way that you can challenge yourself and I will I hope I can yourself and I will I hope I can challenge you to do that challenge you to do that is to look into this this project called is to look into this this project called tidy Tuesday it has it has some some tidy Tuesday it has it has some some github repository it has a hashtag on github repository it has a hashtag on Twitter and also has a shiny shiny app Twitter and also has a shiny shiny app so what is time Tuesday well the idea is so what is time Tuesday well the idea is that every Tuesday the tiny Tuesday that every Tuesday the tiny Tuesday group releases the data set and then group releases the data set and then kind of invites everyone to explore it kind of invites everyone to explore it in their own way with usually with in their own way with usually with visualizations in some sort and and this visualizations in some sort and and this results in a huge amount of different results in a huge amount of different approaches to looking at the same sort approaches to looking at the same sort of data and I think it's a fantastic way of data and I think it's a fantastic way with with the same data set and what with with the same data set and what other people are doing with with ggplot2 other people are doing with with ggplot2 or whatever else they're using so just or whatever else they're using so just to show what some people are doing with to show what some people are doing with ggplot2 this is Jake cow looking into a ggplot2 this is Jake cow looking into a dataset of different songs and and and dataset of different songs and and and what kind of characteristics these what kind of characteristics these different songs have so this is this is different songs have so this is this is GG plug to plug right out of Gd plot to GG plug to plug right out of Gd plot to and I think it's an amazingly beautiful and I think it's an amazingly beautiful visualization that kind of focuses on a visualization that kind of focuses on a couple of songs and how they relate to couple of songs and how they relate to the huge amount of data that is there the huge amount of data that is there now one thing that is super nice with now one thing that is super nice with the title Tuesday is that a lot of the title Tuesday is that a lot of people actually makes their scripts people actually makes their scripts available so you can look at the available so you can look at the visualization you can kind of try to visualization you can kind of try to guess what they're doing and then you guess what they're doing and then you can you can get back and look into the can you can get back and look into the the into the script and and figure out the into the script and and figure out well what did they actually do was I well what did they actually do was I correct or what I have done it in a correct or what I have done it in a different way which kind of extensions different way which kind of extensions did they use and so on now the same data did they use and so on now the same data set also resulted in this visualization set also resulted in this visualization by Citrix share where he instead looked by Citrix share where he instead looked into the two hip up and how it kind of into the two hip up and how it kind of evolved in the air and Spotify and as evolved in the air and Spotify and as you can see this is not a single you can see this is not a single visualization he has arranged a lot of visualization he has arranged a lot of different visualization I think he was different visualization I think he was using cow plot but I'll using cow plot but I'll give him for that and created this this give him for that and created this this morsel of a storytelling approach to it morsel of a storytelling approach to it all just to reiterate this is the same all just to reiterate this is the same data set more kind of an artistic taste data set more kind of an artistic taste looking into three different playlists looking into three different playlists and see well how do they relate to each and see well how do they relate to each other which which areas are they are other which which areas are they are they focusing on when we kind of look they focusing on when we kind of look into the songs that they that they're in into the songs that they that they're in the playlists and just to show first of the playlists and just to show first of all what you can do with with Gigi all what you can do with with Gigi animate but also generally that doesn't animate but also generally that doesn't have to be static visualization so this have to be static visualization so this is not the same data set this is this is is not the same data set this is this is maybe I need to push a button otherwise maybe I need to push a button otherwise you must take my word for it oh there we you must take my word for it oh there we go go so this is a Gigi animate animation so this is a Gigi animate animation where he's not looking at the same data where he's not looking at the same data set issues looking another dataset set issues looking another dataset regarding school diversity just sure regarding school diversity just sure well you can do it you can find anything well you can do it you can find anything in this title just a project and you can in this title just a project and you can really get inspired by a lot of talented really get inspired by a lot of talented people that kind of just sits down and people that kind of just sits down and think about some some data and and think about some some data and and creates amazing plus and for for creates amazing plus and for for learning ggplot2 I think it's an amazing learning ggplot2 I think it's an amazing project even if you don't end up project even if you don't end up participating it it's simply just seeing participating it it's simply just seeing what other people are doing okay we'll what other people are doing okay we'll be wrapping up now so just to say if if be wrapping up now so just to say if if you want more about ggplot2 and in you want more about ggplot2 and in general my name is Joe stationed in general my name is Joe stationed in general there's a book ggplot2 elegant general there's a book ggplot2 elegant graphics for data analysis which is graphics for data analysis which is written by mainly by Headley Wickham and written by mainly by Headley Wickham and it is now a free book as well so you can it is now a free book as well so you can go into this ggplot2 slash book talk and go into this ggplot2 slash book talk and have it all and we're building up to a have it all and we're building up to a third a third edition now which will be third a third edition now which will be released at some point but it will released at some point but it will continue to be free as it is one thing continue to be free as it is one thing that we will look into adding to the that we will look into adding to the spook is a lot more text about how spook is a lot more text about how actually to create extensions so if you actually to create extensions so if you have if I piqued your interest in have if I piqued your interest in creating your own extensions then creating your own extensions then there'll be a lot of information there there'll be a lot of information there about how to get started with that there about how to get started with that there are two other books that I want to are two other books that I want to recommend when it comes to data recommend when it comes to data visualization one is from Karen Healy visualization one is from Karen Healy which is data visualization a practical which is data visualization a practical introduction which is also available for introduction which is also available for free but generally if you have the money free but generally if you have the money then support the authors of course which then support the authors of course which is focusing on how to use ggplot2 is focusing on how to use ggplot2 specifically to create create machine specifically to create create machine stations that you can use in your daily stations that you can use in your daily work and the other is by class we'll get work and the other is by class we'll get one of the core members of the g2 one of the core members of the g2 development teams which is called development teams which is called fundamentals of data visualization now fundamentals of data visualization now this doesn't actually contain ggplot2 this doesn't actually contain ggplot2 code a lot of the visualization should code a lot of the visualization should look into or look in there or seen there look into or look in there or seen there sorry this is from ggplot2 but the book sorry this is from ggplot2 but the book focuses more on theory and the and like focuses more on theory and the and like what should you think about when you what should you think about when you create and design visualization so he create and design visualization so he decided to remove the code I think he's decided to remove the code I think he's been working on on a repository where been working on on a repository where it's actually showing the code as well it's actually showing the code as well so you can also have the code that goes so you can also have the code that goes with the book okay a lot of the with the book okay a lot of the extension packages that I've talked extension packages that I've talked about also has web pages where you can about also has web pages where you can find both tutorial articles and and find both tutorial articles and and references to the different references to the different functionality that's in there so you can functionality that's in there so you can you can go into there and read more as you can go into there and read more as well and of course also explore the well and of course also explore the extension package website or gallery extension package website or gallery where you can look into even a greater where you can look into even a greater expanse of different extensions so this expanse of different extensions so this is it is it thank you very much for for attending thank you very much for for attending this ended up being way longer than I this ended up being way longer than I expected so thank you for keeping up expected so thank you for keeping up with me I thought it would be one hour with me I thought it would be one hour shorter but this is the this is the end shorter but this is the this is the end of the workshop I'll probably not be I of the workshop I'll probably not be I don't have anything planned for for next don't have anything planned for for next week or whatever this was kind of week or whatever this was kind of had this lying around and in memory so I had this lying around and in memory so I thought I would be using this corona thought I would be using this corona virus care according to to just get it virus care according to to just get it out there and educate so I don't have out there and educate so I don't have anything planned now and maybe I will anything planned now and maybe I will I'll look into adding more maybe I'll look into adding more maybe focusing in on some of the extension focusing in on some of the extension packages that I talked about but stay packages that I talked about but stay tuned maybe they will come over at some tuned maybe they will come over at some point but until then thank you and take point but until then thank you and take care in these times it's purely us out care in these times it's purely us out